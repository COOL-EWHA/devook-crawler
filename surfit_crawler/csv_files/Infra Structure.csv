url,title,description,category
https://surfit.io/link/zMOgX,Kafka NetworkClient Internals,"Apache Kafka는 Distributed Event Streaming Platform으로, 데이터의 생산자(producer)와 소비자(consumer)를 중개하는 메시징 시스템입니다. Kafka의 기본 개념과 용어에 관해서는 Kafka가 제공하는 문서인 Introduction과 Main Concpets and Terminology를 참고하기 바랍니다.",Infra Structure
https://surfit.io/link/4bj7O,오늘의집 MSA Phase 1. DevOps,"DevOps란 서비스 개발자가 스스로 운영업무(배포, 관측, 대응)를 수행하는 문화입니다. 그렇다면 왜 개발자가 스스로 운영업무까지 할 수 있어야 할까요?
우리는 지금까지 MSA의 장점에 대해 많은 이야기를 해왔지만 MSA로의 전환에는 분명 단점도 존재합니다. 가장 크게 느껴지는 단점은 시스템의 복잡성이 올라간다는 것인데요. 앞으로 우리가 집중해서 관리해야",Infra Structure
https://surfit.io/link/vRLXG,젠킨스(Jenkins)와 Github Webhooks 연동,"0. 들어가면서Permalink

젠킨스(Jenkins) 설치 포스트에선 젠킨스 설치 과정을 정리하였습니다. 
이번 포스트에선 CI/CD 파이프라인의 시작점인 Github 이벤트와 젠킨스를 연결하는 Github Webhooks에 대해 정리하였습니다.

Github Webhook 작업 영역Permalink



1. Github 액세스 토큰(access to",Infra Structure
https://surfit.io/link/9RjvZ,이벤트 기반의 라이브 스트리밍 추천 시스템 운용하기,"마이크로서비스와 이벤트 주도 아키텍처를 합쳐서 Event-driven Microservices라고도 부릅니다. 이벤트 주도 아키텍처에서는 API 호출이나 트랜잭션이 발생했을 때, 해당 트랜잭션을 처리하는 마이크로서비스가 이벤트를 공통 이벤트 버스(ex. Kafka)에 발행(publish) 하고, 해당 이벤트가 필요한 다른 마이크로서비스에선 이벤트를 구독(s",Infra Structure
https://surfit.io/link/aWJep,ECS를 이용한 Serverless 배치 서버,"travis ci + ECS를 이용한 Batch서버 효율화대용량 데이터를 다루기 위한 데이터 아키텍쳐데이터를 뽑는 방법 중 가장 많이 쓰이는 방법은 데이터베이스에 저장하고 이를 SQL을 이용하여 추출하는 방법입니다. 예를 들어, 오늘 샌프란시스코에서 예약은 몇 건인지는 SQL 등으로 간단히 뽑을 수 있습니다. 그러나 이를 미국의 모든 도시별 예약 수를 지난",Infra Structure
https://surfit.io/link/GANyn,"기본적 서버 보안 프로그램, Fail2Ban 사용법 기초부터 실전 사용법까지 알아 보기","Fail2Ban은 무작위 대입 공격을 방어하는 프로그램이다. ssh라면 비밀번호를 마구 집어 넣어 보는 공격이 해당할 것이고, apache 같은 웹서버라면 /phpMyAdmin-5/index.php?lang=en 같은 식으로 찔러 보는 경로에 대한 요청을 검토해 IP를 차단할 수 있다. 다만 웹서버에 대한 공격은 추가 필터를 만들어야 한다. 예컨대 방금 예",Infra Structure
https://surfit.io/link/ozN2V,Testcontainers를 이용한 테스트 환경 구축하기,"색인 서버에는 다수의 로직이 구현되어 있으며 장애에 견고하게 구성되어야 하므로, 새로 추가된 로직을 면밀히 검증하고 배포 후 발생 가능한 side-effect을 줄이기 위해 테스트 구성에 더 많은 신경을 쓰고 있습니다.

아래 내용은 작년 12월에 개최한 딜리셔스 테크데이에서 발표한 내용을 기반으로 정리해 보았습니다.

TestCode 작성 시 자주 사용했",Infra Structure
https://surfit.io/link/rMrPZ,쿠버네티스 입문하기,"기존에 웹 서버를 이용해 로드밸런싱, 포트포워딩, 헬스체킹, 무중단 배포 등 안정적인 인프라를 구성하고 있었다. 지금의 인프라 구조도 좋은데 쿠버네티스라는 기술을 적용함으로써 얻는 이점은 무엇일까?
이미지가 변경되면 기존 컨테이너를 새로운 컨테이너로 어떻게 변경할지, 부하가 들어오면 어떻게 부하를 분산할지, 컨테이너가 예기치 못하게 중단될 경우 어떻게 대처",Infra Structure
https://surfit.io/link/VDek9,Global Media Management System 개발,"아자르 서비스의 기존 미디어 업로드 방식은 Client가 직접 AWS S3 저장소에 직접 업로드를 수행하는 방식으로 이루어져 있었습니다. 따라서, 직접 Client 단말기에서 최종 저장소로 업로드를 수행하기 때문에 현황 파악이 어려운 문제가 있었습니다. 나아가, 각 나라 및 지역의 ISP (Internet Service Provider)에서 네트워크 이슈가",Infra Structure
https://surfit.io/link/jlyO9,AWS Step Functions 를 사용한 배치작업 구현,"AWS Lambda 로 소스 코드를 작성하였으나, 실행 과정에서 Lambda 의 제한된 스토리지 용량으로 대안이 필요하였습니다. 이에 따라 AWS Batch 로 변경하고 Step Functions 를 활용하여 하나의 워크플로우로 엮은 경험을 토대로 배치 및 Step Functions에 대해 소개하고자 합니다.

Contents

배치 작업을 위한 Lambd",Infra Structure
https://surfit.io/link/Xely8,표준 서비스 환경 자동 구축을 위한 서버 템플릿 도구 도입사례,이력관리가 되지 않은 상태에서 담당자가 변경되기라도 한다면 더 이상 과거 이력을 추적할 수 없게 되고 눈송이처럼 녹아버려서 다시는 동일한 형태의 서버로 구성할 수 없게 되는데 이를 눈송이 서버(Snowflakes Server)라고 부릅니다. 이와 반대 개념으로 매번 동일한 구성으로 재생성(Re-born)이 가능한 서버를 피닉스 서버(Phoenix Serve,Infra Structure
https://surfit.io/link/KPL6N,쿠버네티스 클러스터 업그레이드 기능,"쿠버네티스는 고유의 버전으로 관리되고 있는 소프트웨어입니다. 쿠버네티스 버전은 x.y.z 형식으로 구성되며, x는 메이저 버전, y는 마이너 버전, z는 패치 버전이라 부릅니다. 기능이 추가/변경되는 경우에는 메이저 버전 혹은 마이너 버전이 올라가고, 버그가 수정과 같이 이전 버전과 호환되는 기능을 제공하면 패치 버전을 올라가게 됩니다. 이런 형식의 버전 ",Infra Structure
https://surfit.io/link/qydMV,절대적 Rule을 지켜 – Config Checker 개발기,"서비스의 요구사항이 고객(서비스 사용자)으로부터 오는 것처럼 SRE의 요구사항은 장애로부터 만들어집니다. 
간략하게 우아한형제들의 장애 대응과 포스트모템(portmortem) 문화에 대해 설명해 드리면, 먼저 서비스에 장애가 발생하면 SRE팀은 개발팀과 함께 장애를 대응합니다. 그러다 장애가 해소되고 상황이 종료되면 장애보고서를 작성하는데요, 이 과정에서 ",Infra Structure
https://surfit.io/link/Q6Zln,DynamoDB 데이터 변경 이벤트 파이프라인 구축하기 (feat. Kinesis),"안녕하세요, 당근마켓에서 라이브 스트리밍 서버 개발 인턴으로 근무하고 있는 Jules에요.저는 이번에 당근마켓의 라이브 스트리밍 채팅 데이터를 활용하기 위한 DynamoDB 데이터 변경 이벤트 기반의 파이프라인을 구축했어요. DynamoDB, Kinesis Data Streams, Kinesis Data Firehose, Lambda 및 S3를 활용해서 아",Infra Structure
https://surfit.io/link/nlLbN,오늘의집 MSA Phase 1. API Gateway,"오늘의집 MSA Phase 1. API Gateway 
안녕하세요. 오늘의집 Platform팀 리드 호성, DevOps팀 엔지니어 제제입니다. 
MSA 전환을 위한 첫 번째 작업이었던 &lt;프론트엔드 분리 작업 (클릭)&gt;이 성공적으로 끝났습니다. 프론트엔드와 백엔드의 분리로 하나의 컴포넌트가 두 개가 된 것처럼 보이지만, 사실 프론트엔드와 백엔드 사",Infra Structure
https://surfit.io/link/OoEor,무신사 서비스에 적합한 NoSQL 도입 여정 ,"성능, 가용성 못지않게 중요한 것이 안정적인 운영입니다. 데이터베이스를 대체하는 데 있어 실제 운영 시 고려해야 할 사항이 한둘이 아니기 때문입니다.기존에 사용하던 DocumentDB는 관리형 서비스로 구성/운영/모니터링/백업/복구 모두 GUI(Graphical User Interface)로 간단히 할 수 있습니다. 반면, 오픈소스 기반의 데이터베이스는 모",Infra Structure
https://surfit.io/link/nlnAY,카카오 개발자들을 위한 공용 Message Streaming Platform - Kafka & RabbitMQ,"각각의 서비스 팀에서 Kafka 클러스터를 직접 구축하게 되면, 결국 모니터링과 운영 부분에 대한 고려가 반드시 필요합니다. 즉, 그만큼의 리소스와 운영 인력이 필요하게 됩니다. 하지만 메시지큐 시스템을 조금 더 자유롭게 사용하거나, 보안 등과 관련해 독립성을 보장받고자 하는 경우에는 전용 시스템을 사용해야 할 수 있습니다. 이러한 경우에 대비해, 저희 T",Infra Structure
https://surfit.io/link/VDMP9,"k6 vs JMeter, 어느 성능 테스트 도구를 써야 할까?",서버 성능 테스트 도구인 k6와 JMeter를 비교하며 어느 도구를 사용할지 고민하고 결정했던 과정을 공유합니다.최근 저희 팀은 리얼월드 서버의 성능을 향상시키기 위해 많은 부분을 변경하는 프로젝트를 진행했습니다. 저는 그 과정에서 저희가 한 작업이 서버의 성능을 얼마나 향상시켰는지 궁금해졌습니다. 제가 측정하고 싶었던 점은 기본적으로 얼마나 요청과 응답 ,Infra Structure
https://surfit.io/link/8qaQq,DataGrip 에서 SSH 터널링으로 DB 접근하기,"보안상의 이유로 운영 환경의 데이터베이스에는 직접 접근하는 경우를 거의 차단합니다. 예외적인 경우 별도의 EC2 서버를 SSH 터널링을 통해 접근하는 방식을 사용하게 되는데요.
그럼 아래와 같이 로컬 PC =&gt; EC2 서버 (ssh 접근) =&gt; Database (RDS) 로 접근해야만 합니다.
DataGrip에서는 이와 같이 특정 서버를 통해 S",Infra Structure
https://surfit.io/link/N7VnA,코드 작성 없이 데이터 파이프라인 운영하기,"서비스가 성장하면 자연스럽게 데이터도 많아지는데요. 늘어나는 데이터들을 잘 수집해서 쓰기 편하게 정리해 두는 것이 데이터 파이프라인의 역할입니다. 데이터 파이프라인 작업들의 생산성을 높이고, 데이터 엔지니어가 아니더라도 누구나 데이터 파이프라인 작업을 추가할 수 있게 만들기 위한 고민과 이뤄낸 개선사항을 공유해보고자 합니다.배치 파이프라인에서 사용하는 데이",Infra Structure
https://surfit.io/link/jlMWq,Hashicorp Vault를 이용한 AWS Access Key 관리,"AWS 서비스를 이용하다보면 개발자와 인프라 담당자 가릴 것 없이 Access Key (aws-cli)를 사용하게 됩니다. 다양한 목적이 있을텐데요, 모니터링 메트릭을 수집하기 위해서 일 수도 있고 데이터를 쿼리하여 확인해 보기 위해 혹은 리소스의 생성과 변경, 삭제 등을 위해서도 Access Key를 사용하게 됩니다.

쉽게 말해 매우 편리합니다. 굳이 ",Infra Structure
https://surfit.io/link/VDMJo,Kubernetes 운영을 위한 etcd 기본 동작 원리의 이해,"Kubernetes는 기반 스토리지(backing storage)로 etcd를 사용하고 있고, 모든 데이터가 etcd에 보관됩니다. 예를 들어, 클러스터에 어떤 노드가 몇 개나 있고 어떤 파드가 어떤 노드에서 동작하고 있는지가 etcd에 기록됩니다. 만약 동작 중인 클러스터의 etcd 데이터베이스가 유실된다면 컨테이너뿐만 아니라 클러스터가 사용하는 모든 리",Infra Structure
https://surfit.io/link/4bepQ,엘라스틱 클라우드를 이용하여 로켓챗으로 알람 받기,"선지호
        2021.12.17.
        
    
    

엘라스틱서치는 자동으로 배포, 관리되는 클라우드 서비스를 제공하고 있습니다.

이번에는 엘라스틱 클라우드 서비스를 이용하여 로켓챗으로 알람을 받아 보겠습니다.

이전 글

엘라스틱 서치 클라우드에 가입, 배포 서비스 생성 및 설정하는 부분은 아래 링크를 참조해 주세요

엘라스틱서",Infra Structure
https://surfit.io/link/K2ZXW,쿠버네티스 가상스토리지(Ceph) 설치,"Rook은 쿠버네티스 POD에서 실행되며, Ceph, EdgeFS등 가상솔루션을 POD로 배포하여 관리하는 도구입니다. agent를 통해 Ceph, EdgeFS등 가상솔루션을 관리하고, OSD를 통해 데이터를 영구저장합니다.



Ceph vs EdgeFS

Rook에서 제공하는 가상스토리지는 EgdeFS와 Ceph 외에도 다양하게 지원하지만 안정적인 버전",Infra Structure
https://surfit.io/link/bbZ8k,Docker로 팀원들에게 공통된 백엔드 개발환경 제공해주기,"프론트엔드, 백엔드 협업을 하면서 항상 고민했던것이 제가 테스트한 로컬의 환경과 팀원의 로컬 환경이 달라서 터지는 이슈였습니다. 프론트분들은 보통 local에 database등의 서버사이드 환경들이 구성되어있는 경우가 많지않아서 개발 시 이런 환경을 하나하나 맞춰줘야하는게 굉장히 비효율적이라고 느껴졌습니다.
또한 백엔드 개발자의 구성이랑 똑같이 맞춰줘야하기",Infra Structure
https://surfit.io/link/8qb7z,정적인 페이지를 AWS S3 + Cloudfront로 배포하기,"정적인 웹 페이지(Static Web Page)가 뭘까?
언제 접속해도 같은 응답을 보내주는 페이지라고 생각하면 쉽다. 말 그대로 정적! 움직이지 않는!
클라이언트가 요청을 보내면, 웹 서버에 업로드된 파일이 추가적인 처리과정 없이 그대로 전달(응답)되는 페이지를
정적인 웹 페이지라고 한다. 예를 들면, 개인이나 회사의 소개 페이지 정도가 있겠다. 
앞으로",Infra Structure
https://surfit.io/link/3qxNO,Setup Zeppelin with K8S mode on Naver Container Cluster,Apache Zeppelin은 Spark를 통한 데이터 분석의 불편함을 Web기반의 Notebook을 통해서 해결해보고자 만들어진 어플리케이션입니다. Web기반 Notebook 스타일 환경이란 Web에 워드프로세서 처럼 아무거나 입력 가능한 하얀 화면이 뜨고 여기에 코드를 작성-실행-결과확인-코드수정을 반복하면서 원하는 결과를 만들어 낼수있는 작업환경을 말,Infra Structure
https://surfit.io/link/Z80Rk,프레임워크 변경도전기 (Apex to AWS Chalice),"오픈소스화된 Private 프레임워크를 통해 개발자들은 편리하게 API를 개발할 수 있고, 개발된 API를 다양한 서비스와의 확장 및 연결하는 데도 도움을 받을 수 있습니다. 문제는 어디까지나 개인의 제작물인 만큼 제작자가 언제든지 지원종료 및 레포지토리를 폐쇄할 수 있고, 이 경우 이미 해당 프레임워크를 통해 서비스를 제공하고 있다면 꽤나 곤란한 상황이 ",Infra Structure
https://surfit.io/link/p1jQ2,오늘의집 MSA Phase 1. 프론트엔드 분리작업,"클라이언트 서버를 만드는 이유
서비스 전체의 MSA 과업을 준비하면서 클라이언트가 가져가야 하는 관심사와 서버가 가져가야 하는 관심사가 서로 다름에도 불구하고, 하나의 Ruby 서버에서 다양한 과업이 수행되다 보니 서로의 관심사가 엮이는 일이 발생하였습니다. 또 Ruby를 Kotlin + Spring 기반으로 변환할 때도 서비스 단위로 클라이언트를 분리할 ",Infra Structure
https://surfit.io/link/3X0DA,Uber - 엣지+멀티 클라우드 장애 핸들링 이야기 (Part II),Uber 플랫폼의 탑승자 또는 운전자가 엘리베이터나 터널에 진입하면 네트워크가 몇 초 동안 차단될 수 있습니다. 이러한 시나리오에서 장애 처리 핸들러는 네트워크가 복구되면 잠재적으로 더 긴 대기 시간을 유발할 수 있는 백업 도메인으로 불필요하게 전환하는 것을 방지하기 위해 노력합니다.네트워크 상태가 양호한 사용자가 엘리베이터나 터널에 들어가는 시나리오를 고,Infra Structure
https://surfit.io/link/ll8G9,Argo CD를 이용한 다양한 배포 방식을 지원하는 라이브러리 : Argo Rollouts,"Argo CD를 이용하여 배포할 시, Blue/Green 형태로 배포하기 위해 Argo 진영 라이브러리인 Argo Rollouts을 사용할 수 있다.Blue/Green 배포란 아래와 같다.Blue/Green 배포의 동작 원리쿠버네티스에서 Blue는 기존 Pod라고 볼 수 있고, Green은 새롭게 배포해야 할 Pod라고 보면 된다.기본적인 쿠버네티스의 배포",Infra Structure
https://surfit.io/link/exAxr,무신사가 검색 품질을 관리하는 방법,"검색 모델 평가 지표로 검토했던 후보는 3개입니다.Mean Reciprocal Rank(MRR)각 사용자마다 클릭한 상품 중 가장 상위의 위치를 역수로 계산하고, 사용자별로 계산된 점수를 모아 평균을 내는 방법입니다.가장 단순하고 계산이 쉬운 지표지만, 고객이 클릭한 모든 상품의 순서를 고려하는 것이 아니라 가장 높은 위치에서 클릭된 상품 1개만 고려하므로",Infra Structure
https://surfit.io/link/3aMGy,Uber - 엣지+멀티 클라우드  장애 핸들링 이야기 (Part I),Uber의 모든 모바일 애플리케이션을 위한 네트워크 통신은 에지 및 모바일 네트워킹 인프라에 의해 구동됩니다. Edge 인프라는 모바일 앱에서 발생하는 HTTPS 트래픽을 백엔드 서비스로 안전하게 연결합니다. Uber의 Edge 인프라는 퍼블릭 클라우드의 글로벌 인프라와 자체 데이터 센터가 결합되어 있습니다.  퍼블릭 클라우드는 앱 지연 시간을 줄이는 데 ,Infra Structure
https://surfit.io/link/EmO19,Cloud Container,"컨테이너에 대한 내용들을 읽어보면 흔히 가상 머신(Virtual Machine)과 비교를 합니다. 
가상 머신을 사용할 때 어떤 문제점들이 있었고, 왜 컨테이너가 클라우드 시장에서 우위를 선점하게 되었는지 이야기해보겠습니다.

1. 가상 머신(Virtual Machine)Permalink


  물리적 컴퓨터와 동일한 기능을 제공하는 소프트웨어 컴퓨터입니다",Infra Structure
https://surfit.io/link/8qmn4,Grafana란?,"시계열 데이터에 대한 대시보드를 제공해주는 Data Visualization Tool인 Grafana에 대해 알아보자.Grafana란, 시계열 매트릭 데이터를 시각화 하는데 가장 최적화된 대시보드를 제공해주는 오픈소스 툴킷이다.다양한 DB를 연결하여 DB의 데이터를 가져와 시각화 할 수 있으며, 그래프를 그리는 방법도 간단히 마우스 클릭으로 완료할 수 있다",Infra Structure
https://surfit.io/link/N7Rj7,모두의 Github Actions 2편 - 공용 CI 머신에서 Secret 관리하기,"지난 글에서는 Jenkins에서 돌아가던 CI/CD 작업을 Github Actions로 옮긴 이유와, 개발자가 고민 없이 Actions를 쓰게 하기 위해 Actions Runner를 사용하는 패턴을 만드는 과정에 대해 소개했습니다.
지난 글의 핵심은 컨테이너를 이용하여 언제나 격리된 환경을 제공하면 관리가 용이한 CI 환경을 만들 수 있다는 것이었습니다.
",Infra Structure
https://surfit.io/link/3MjmV,NAVER G플레이스AI개발 부서의 ML Pipeline (유저추천 과제 사례 중심으로),"매일 전체 ML 파이프라인 수행‘플레이스 유저 추천’ 과제는 ‘데이터 수집, 데이터 정제, 모델 학습, 모델 배포, 앱 배포, 분석, 서비스 반영’ 까지 전반적인 머신러닝 프로세스를 매일 수행해야 했습니다. 이러한 요구 사항으로 빠른 처리와 자동화가 시스템 구축에 중요한 요소였습니다.대규모 데이터 처리대외비 내용이 포함되어 있어, 상세한 수준으로 공개가 불",Infra Structure
https://surfit.io/link/zM99G,CI/CD는 무엇일까 (with. github actions),"CI(Continuous Integration)는 지속적 통합을 의미하며,
CD는 지속적인 서비스 제공(Continuous Delivery), 배포(Continuous Deployment)를 의미한다.
CI, CD는 각각 개념이 다르지만, 같이 구축되는 경우가 많아 CI/CD라고 묶인다.
구체적인 개념은 아래에서 살펴보자.
(1) CI?
CI는 지속적 통합",Infra Structure
https://surfit.io/link/RvJ8l,Private Docker Registry를 바꿔보자!,"Harbor는 정책 및 역할 기반 액세스 제어로 아티팩트를 보호하고 이미지를 스캔하고 취약성이 없는지 확인하며 이미지를 신뢰할 수있는 것으로 서명하는 오픈 소스 레지스트리입니다.
CNCF Graduated 프로젝트인 Harbor는 규정 준수, 성능 및 상호 운용성을 제공하여 Kubernetes 및 Docker와 같은 클라우드 네이티브 컴퓨팅 플랫폼에서 아티",Infra Structure
https://surfit.io/link/Eml2E,오늘의집 A/B 실험 플랫폼 구축기,"현재와 새로운 버전들(B.C...N)간 실험 성공지표를 비교(A vs B, A vs C… A vs N)하여 어떤 버전이 가장 좋은 성과를 보이는지를 실험을 생성한 PO가 판단할 수 있도록 도움을 주는 플랫폼입니다.
좋은 성과? - 하나의 A/B 실험의 가설을 세울 때 측정하고자 하는 한 개의 성공지표(CTR, CVR, Conversion 등)와 여러 개의 ",Infra Structure
https://surfit.io/link/6QZlP,오늘의집 MSA 여정 Part 1. 시작,"서비스를 구성하는 코드의 형태부터 인프라 아키텍처의 영역까지 서비스가 성장함에 따라 어딘가에 병목이 발생하고, 이를 해결하기 위해 노력하며, 필요에 따라 아키텍처까지 새롭게 빌드하는 과정을 겪게 됩니다. 오늘의집 서비스 또한 이러한 과정을 몇 번 경험하였습니다. 그리고 앞으로 MSA를 진행하게 되면 단순히 서비스를 나누는 것이 아니라, 해당 서비스에 맞게 ",Infra Structure
https://surfit.io/link/LLrPl,로드 밸런싱에 대해 알아보자!,"인터넷의 발달로 인해 데이터 통신이 활발해졌고, 이는 트래픽의 폭발적인 증가로 이어졌다. 방금 누른 페이스북 ‘좋아요’와 친구에게 카톡으로 전송한 동영상, 좋아하는 유튜버의 채널 시청까지 어느 것 하나 인터넷을 통하지 않은 것이 없을 정도이다.
그 결과 아무리 성능이 뛰어난 서버라고 해도 단 한대의 서버로는 모든 트래픽을 감당해내기 어려워졌다. 이에 기업들",Infra Structure
https://surfit.io/link/6Q4QM,엘라스틱서치 그게 뭔데 그거 어떻게 하는 건데,"서비스가 성장함에따라 데이터가 증가하면서 검색 속도도 느려졌는데요, 주문 하나를 검색하는데 9.87초가 걸리고 있었습니다. 서비스가 급성장 중이라 굵직한 기능 개발이 매우 많았고, 자주 쓰이는 페이지도 아니라서 우선순위가 밀리다보니 이렇게 되었네요.

ES 적용 전 검색 10초

그러던 중, 서비스개발팀만의 ES 환경을 구축할 건데 딜리버드에도 적용해보는 ",Infra Structure
https://surfit.io/link/9RZX0,"Jenkins, Github Action으로 CI 환경 구축 경험기","Github의 event로 Job을 실행할 수 있도록 지원하는 플러그인 중 기본 내장되어 있는 Github Pull Request Builder을 사용하였다.

설정 방법은 매우 간단했는데, 먼저 Auth 설정 중 Github Server API URL에 https://{GITHUB 주소}/api 와 같이 서버 API URL을 입력한다. 
Credentia",Infra Structure
https://surfit.io/link/rMrMk,어느날 갑자기 배포가 되지 않았다.,Group runners는 문제가 발생하더라도 동일한 Group 내에서 발생하기에 원인 파악 범위를 줄일 수 있습니다. 다른 Group에 영향을 주지 않습니다. 또한 Group 내 생성되는 리포지토리는 별도로 runner를 새롭게 설정하지 않아도 Group runner를 바로 사용할 수 있다는 장점을 가졌습니다. Shared runner와 Specific ,Infra Structure
https://surfit.io/link/exnVg,사례별로 알아본 안전한 S3 사용 가이드,"S3는 이름 뜻대로 간단하게 사용할 수 있는 저장소이며 사용 방법도 크게 어렵지 않아 서비스 구성에 다양하게 사용되는 서비스입니다. 하지만 사용이 쉬운 만큼 보안 관점에서는 많이 고민해 보아야 하는 서비스라고 생각합니다.
특히 데이터를 보관하는 서비스인 특성상 보안을 충분히 고려하여 설정해야 하지만 안전하게 사용하기 위한 설정은 무엇인지, 어떤 것을 고려해",Infra Structure
https://surfit.io/link/XePY2,"AWS SQS, Lambda 를 이용하여 쉽게 지연(Delay) 작업 처리하기","AWS SQS, Lambda 를 선택하면 MQ 와 서버를 구축할 필요도 없고 간단한 몇 개의 설정과 구현된 함수 배포만으로 안전하고 빠르게 구현할 수 있습니다.따라서 3번의 방법을 선택하기로 하고 AWS SQS, Lambda 를 이용하여 구현하였습니다.AWS SQS 는 마이크로 서비스, 분산 시스템 및 서버리스 애플리케이션을 쉽게 분리하고 확장할 수 있도록",Infra Structure
https://surfit.io/link/wJXOE,폭발적인 사용자 증가로 마주한 성능 저하 2종 해결하기,Azure 관리 페이지에서 Service Bus의 챗봇 관련 큐에 쌓인 메시지를 보니 활성 메시지가 100개 넘게 쌓여있는 것을 볼 수 있었습니다.활성 메시지가 있으면 메시지가 큐에 쌓여있다는 말입니다.일반적으로 챗봇은 예약 전송 기능을 사용하기에 “예약됨” 메시지 목록에 들어가게 됩니다. 그리고 예약된 시각이 되면 메시지 큐에 들어가 “활성” 상태가 됩니,Infra Structure
https://surfit.io/link/nlxPy,kube-state-metrics에 대해서,"쿠버네티스를 사용하면서 운영 관점에서 다양한 메트릭 정보를 수집해 모니터링 하거나 특정 상황(예를 들어 Pod의 장애 발생 상황)에 별도의 채널로 알림을 발송해야 할 필요가 생길 수 있다.
이런 경우, 쿠버네티스 클러스터 워커노드로 사용중인 서버의 CPU, 메모리, 디스크 뿐만 아니라 쿠버네티스 클러스터 내부의 Pod가 사용중인 리소스 매트릭과 네트워크 I",Infra Structure
https://surfit.io/link/Rv1kG,[서버리스] 백엔드,"개발자가 서버를 관리할 필요 없이 애플리케이션을 빌드하고 실행할 수 있도록 하는 클라우드 네이티브 개발 모델
✏️ 인프라 관리 작업을 클라우드에게 위임함으로써 서버를 고려하지 않고 서비스를 개발할 수 있다.

EC2 와 EB 로 배포 환경을 구성하는 데에는 몇 가지 문제가 있다. EC2 의 경우 유연한 인프라 를 구축하는 데에는 한계가 있다. 생성한 인스턴",Infra Structure
https://surfit.io/link/WkQ4m,Scale-up과 Scale-out에 대해 알아보자!,"스케일 업(Scale-up)은 쉽게 말하면 기존의 서버를 보다 높은 사양으로 업그레이드하는 것을 말한다. 하드웨어적인 예를 들면, 성능이나 용량 증강을 목적으로 하나의 서버에 디스크를 추가하거나 CPU나 메모리를 업그레이드시키는 것을 말한다. 
이처럼 하나의 서버의 능력을 증강하기 때문에 수직 스케일링(vertical scaling)이라고도 한다. 
소프트",Infra Structure
https://surfit.io/link/oz4xV,kubernetes Pod의 진단을 담당하는 서비스 : probe,"프로브(Probe)는 컨테이너에서 kubelet에 의해 주기적으로 수행되는 진단(diagnostic)이다.진단을 수행하기 위해서, kubelet은 컨테이너에 의해서 구현된 핸들러를 호출한다.핸들러에는 다음과 같이 세 가지 타입이 있다.ExecAction : 컨테이너 내에서 지정된 명령어를 실행한다. 명령어 상태 코드 0으로 종료되면 진단이 성공한 것으로 간",Infra Structure
https://surfit.io/link/Eml6e,AWS Amplify 톺아보기,"AWS Amplify는 AWS 리소스들을 가용하여 손쉽게 프론트-백엔드, 호스팅, 배포까지 풀스택으로 애플리케이션을 개발하도록 돕는 서비스의 집합입니다.

Amplify에 대한 이야기를 하던 중 하상엽 사원님께서 Google사의 Firebase와 비슷한 것 같다는 말을 하셨는데, 저도 듣자 마자 느낌이 딱! 하고 오더라구요.

자세한 기능들을 프로젝트를 구",Infra Structure
https://surfit.io/link/9R9Y7,influxDB의 flux를 활용하여 기간별 통계 그래프 만들기(grafana),"prometheus를 통해서도 수집을 하는 데이터가 있지만, 특정 기간을 그룹핑하는데는 influxDB에 강점이 있다고 판단되어 influxDB 사용하게 되었습니다. flux query을 사용하여 기간별 통계 그래프를 작성하였습니다.
익숙하지 않은 query 이지만, 참고 문서를 활용하면 원하는 그래프를 그릴 수 있습니다.

influxDB 란?
Influ",Infra Structure
https://surfit.io/link/OoE7n,EKS Cluster에 Argo CD 배포 및 세팅하는 법,"Cluster에 Argo CD 설치먼저 작업하기 이전에 AWS EKS를 통해 쿠버네티스 클러스터가 구성되어 있고, 로컬 PC에서 kubectl이 설치되어 있다고 가정한다.만약 로컬 PC에 kubectl이 설치되어 있지 않다면 아래 링크를 통해 설치한다.Argo CD를 설치하기 위해서 아래와 같이 kubectl 커맨드를 실행한다.# argocd 네임스페이스 ",Infra Structure
https://surfit.io/link/WkkJm,Spring Data Elasticsearch 설정 및 검색 기능 구현,"Elasticsearch는 Apache Lucene 기반의 Java 오픈소스 분산형 RESTful 검색 및 분석 엔진입니다. 방대한 양의 데이터에 대해 실시간으로 저장과 검색 및 분석 등의 작업을 수행할 수 있습니다. 특히 정형 데이터, 비정형 데이터, 지리 데이터 등 모든 타입의 데이터를 처리할 수 있는데요. Elasticsearch는 JSON 문서(Do",Infra Structure
https://surfit.io/link/bb1Jo,node exporter를 활용한 서버 시스템 모니터링,"개요
서버 시스템 및 네트워크를 모니터링 하기 위해서 기존에는 cacti를 사용중입니다.
검색API, 동적색인 모니터링을 그라파나(grafana)에 구축하여, 서버 사용량과 함께 보기 위해서는 그라파나 + cacti를 사용했습니다.
검색 서비스와 서버 사용량의 연관 관계 및 모니터링을 한번에 하고 싶었습니다.
그래서 node-exporter 를 활용하여 그",Infra Structure
https://surfit.io/link/4bbeQ,도커 컴포즈를 이용한 Express-Typescript-MySQL 개발환경 구축,docker-compose 를 활용해 로컬 vscode 에서 코드를 변경하면 컨테이너 안에서 프로그램이 재시작되도록 만들었다. nodemon(node monitor) 는 노드가 실행하는 파일이 속한 디렉터리를 감시하고 있다가 파일이 수정되면 자동으로 노드 애플리케이션을 재시작한다. ts-node 는 메모리 상에서 타입스크립트를 transpile 해 바로 실,Infra Structure
https://surfit.io/link/qy0pp,추천 서비스가 컨테이너를 만났을 때 #2,"GitOps라는 용어를 아시나요? 최근에 개발과 운영을 구분하지 않고 개발부터 배포까지 유기적으로 처리하는 DevOps, ML 파이프라인을 통해 데이터 전처리, 모델 학습, 서빙까지 유연하게 처리할 수 있는 MLOps와 같이 Ops라는 키워드를 접미어로 붙인 용어를 많이 접할 수 있습니다. GitOps는 형상 관리 도구인 Git과 운영을 의미하는 Ops의 ",Infra Structure
https://surfit.io/link/BlLm2,"MongoDB, AWS S3에서 특정 기간에만 저장해야하는 데이터는 어떻게 쉽게 관리할까?","데이터 수명 주기 관리란 데이터 생성 및 초기 저장, 처리부터 폐기되어 삭제되는 시점까지 전체 수명 주기 동안 정보 시스템의 데이터 흐름을 효율적으로 관리해서 서비스를 제공하고 법령 등을 준수하기 위해서는 필수적인 정책입니다.이번에 중점적으로 다룰 부분은 특정 기간에만 저장해야 하는 데이터가 있다면, 데이터 유효기간 이후에 정리를 어떻게 쉽게 하려고 했는지",Infra Structure
https://surfit.io/link/xrWM2,Github Pull Request시 Jest & Docker Test Code 수행하기,"테스트 코드를 작성과 함께 항상 해주어야하는 기반 작업중 하나가 Pull Request와 Develop Master 브랜치 Push시에 전체 테스트 코드가 수행되도록 테스트 자동화 환경을 구축 하는 것입니다.
그래야만, Pull Request의 코드리뷰를 진행할때 기존 기능이 정상작동하는 것을 믿고 리뷰만 진행할 수 있기 때문입니다.
이를 위해 젠킨스와 같",Infra Structure
https://surfit.io/link/exAEy,"MSA를 위한 Kubernetes 세팅과 CI/CD Pipeline 구성, 그리고 Monitoring 시스템 구축 — 2","지속적 전달이란, 지속적 통합을 통해 테스트되고 빌드된 코드를 지속적으로 전달하여 제품의 질적 향상을 꾀하는 것 입니다.그럼 GitOps는 무엇일까요?GitOps란, 쿠버네티스 특성에 맞춰 탄생된 개념입니다.쿠버네티스는 특성상 새로운 어플리케이션의 배포나 네트워크 구성 등 쿠버네티스를 운영하기 위한 다양한 오퍼레이션들을 yaml 파일으로 작성하여 관리하고 ",Infra Structure
https://surfit.io/link/AZxRz,"쿠버네티스 7,500개 노드 운영하기","지난 포스트 “[번역] 쿠버네티스 2,500대 노드 운영하기”에 이어 OpenAI에서 7,500대의 노드를 운영한 경험을 공유한 글을 번역하였습니다.

저희는 GPT-3, CLIP 그리고 DALL·E와 같은 큰 모델을 학습 시키기 위해 7,500대의 노드로 쿠버네티스 클러스터를 확장하였습니다. 뿐만 아니라 Scaling Laws for Neural Lang",Infra Structure
https://surfit.io/link/p1VPm,29CM 로그 수집 시스템 소개,"기존 로그 시스템과 파이프라인은 단계별로 타이트하게 연결되어 있기 때문에 변경이 쉽지 않았고, 해당 로그를 기반으로 운영 중인 서비스도 일부 존재했기 때문에 기존 로그 시스템은 유지하면서 새로운 로그 시스템을 구축하는 방향으로 의사 결정 하였습니다.아키텍쳐아키텍쳐는 기존과 거의 동일합니다.다른점은 로그를 송신하는 구간과 수집하는 구간 사이에 Kafka 를 ",Infra Structure
https://surfit.io/link/vRGLk,테스트 좋아하세요?,"테스트 과정을 배포과정에 자동화하여 안정성을 향상하고 개발팀 개개인의 로컬환경에서도 동일한 결과로 개발 편의성을 증대시키고 싶었습니다.이렇게 시작된 테스트환경을 구축을 위한 고군분투를 공유해보려고 합니다.우선 가장 먼저 한 일은 진행할 작업에 대한 현재 상황을 분석해보았습니다.Q. 테스트는 정상적으로 구성되어 있는가? A. no! 테스트의 틀은 있었지만, ",Infra Structure
https://surfit.io/link/7LnL6,"늘어나는 개발 프로젝트, 빌드환경 모니터링을 어떻게 할까?","업무 도메인에 따라 한 팀에서 개발/운영하는 어플리케이션이 계속 증가하고, 이 어플리케이션을 구성하는 프로젝트가 많아질수록 CI(Continuous Integration) 도구에 등록된 빌드 설정도 많아지고, 관리의 복잡도가 높아집니다.무신사의 경우 VCS(Version Control System)를 Atlassian 제품군 중 Bitbucket을 사용하고",Infra Structure
https://surfit.io/link/dPlWA,AWS S3를 통한 정적 웹 사이트 배포 및 GitHub Actions를 통한 CI/CD,"도입
이 글을 통해 AWS IAM, AWS S3, AWS CloudFront, AWS Route53, ACM(AWS Certification Manager)을 활용해 Next.js 프로젝트를 정적 웹 사이트로 배포하고 GitHub Actions를 활용하여 해당 배포를 자동화하는 방법에 대해 배웁니다. 그리고 이 과정에서 GitHub Actions 및 배포 ",Infra Structure
https://surfit.io/link/wJXzL,MySQL Group Replication 구축,"DB 구성 중 가장 많은 고민과 시간을 투자하게 만드는 부분이 성능(Performance)과 고가용성(High Availabilty)이라고 생각합니다. 성능은 좋으면 좋을수록 좋겠지만, 서비스를 제공하는 입장에선 서버 장애로 서비스의 중단이 발생하지 않도록 안정성을 유지하는 것도 중요합니다. 이렇게만 이야기하면 Oracle의 RAC를 사용하는게 가장 좋은 ",Infra Structure
https://surfit.io/link/3jON0,트위터는 왜  모니터링 시스템을 다시 만들었나?,"첫 모니터링 솔루션은 위와 같이 아키텍처를 수립하였습니다. 1.0 시스템은 다음과 같은 컴포넌트로 구성되어 있습니다.
Agent - 데이터를 수집하는 Agent로 시스템 성능에 필요한 여러 지표를 수집
Collector &amp; Storage API - 수집부에서 데이터를 모아 Storage API를 통해 Time Series Database(Manhat",Infra Structure
https://surfit.io/link/KQDbo,"리얼월드 서버의 미제사건, 원인 모를 과부하 해결하기","리얼월드를 2018년 7월 처음 정식 오픈한 이후, 리얼월드 서버에는 만성적인 질환이 하나 생겼었습니다. 가끔 알 수 없는 이유로 서버가 요청들을 빠르게 처리하지 못 하고 매우 매우 느려지는 현상이었습니다. 그 문제가 한 번 발생하기 시작하면 CPU 사용량이 급증하고 요청들이 쌓이고 쌓여 결국 서버 전체가 마비되어 아무런 요청도 처리하지 못 하는 상태가 되",Infra Structure
https://surfit.io/link/w8WZN,AWS CloudFront를 사용하여 동적 컨텐츠 전송하기(Dynamic Content Delivery),AWS CloudFront(CDN) 서비스를 사용하여 서비스의 레이턴시(Latency) 줄여보자안녕하세요! 위즈페이스 팀에서 웹 프론트엔드 개발을 담당하고 있는 Jusung입니다.오늘은 저희 팀에서 운영 중인 서비스에 CloudFront를 사용하여 동적 콘텐츠를 전송했던 경험에 대해 공유하려고 합니다.보통 CDN을 접하면 이미지/JS/CSS 등 자주 바뀌지,Infra Structure
https://surfit.io/link/31WNW,그라파나에서 텔레그램으로 알람받기,"그라파나에 구성한 대시보드 패널에 알람 규칙을 추가하여 텔레그램으로 알람을 받아서 위험 감지에 사용 할 수 있습니다.
구성 방법

1. 알람 채널 추가

    Alerting &gt; Notification channels 메뉴를 선택합니다.

    
  
  
    New channel 을 클릭합니다.

  
  
    Type 을 Telegram",Infra Structure
https://surfit.io/link/KQvG0,Elastic Cloud를 활용한 모니터링 및 이상탐지,"클라우드 서비스인 AWS, Google Cloud 및 Azure에서 호스트형 Elasticsearch와 Kibana, 각종 Elasticsearch 관련 애플리케이션을 한꺼번에 관리 및 배포할 수 있게 하는 서비스 입니다

사용법

순서는 이렇습니다.

새 이메일 생성(Optional)
  해당 이메일로 Elasticsearch Cloud에 가입 (http",Infra Structure
https://surfit.io/link/3O1jk,docker-compose로 Airflow 한방에 설치하기,"airflow를 구축하기 위해서는 webserver, scheduler, worker, database까지 함께 움직이는 서비스가 많습니다. 이것들이 조합되면 airflow라고 하는 워크플로 플랫폼이 완성되는 겁니다. 여기 있는 서비스를 하나씩 설치하면서 고생하기에는 우리의 시간이 넉넉하지 않죠? 이번 글은 airflow를 제일 빠르고 간편한 방법으로 만날",Infra Structure
https://surfit.io/link/wJdzB,DevOps를 위한 Performance Engineering 적용 방향성,"“애플리케이션 리더들은 기술부채(Technical Debt)를 줄이고 애플리케이션의 성능위험(Performance Risk)를 완화해야 합니다. 또한, 생산성 높은 S/W 개발 조직을 구축하기 위해 “Shift Left”와 “Shift Right”가 결합된 형태의 Performance Engineering Approach를 적용해야 합니다.” - By Ga",Infra Structure
https://surfit.io/link/KY2kZ,FASTCAT-ElasticSearch 테스트 - 색인과 배포,"현재 다나와는 검색엔진을 FASTCAT에서 ElasticSearch로 변경할 준비를 하고 있습니다. 
하지만 먼저 변경하였을 때 어떤 효과가 있을지 확인이 필요할 것 같습니다. 따라서
 두 검색엔진의 성능에 대한 비교 테스트가 필요하였고 이를 4단계로 나눠 테스트를 진행했습니다.

1) 색인 및 배포
2) 검색
3) 동적색인
4) 동적색인과 검색

이렇게 ",Infra Structure
https://surfit.io/link/w6L1M,그라파나를 통한 모니터링 대시보드 구성,"그라파나는 데이터를 시각화하여 분석 및 모니터링을 용이하게 해주는 오픈소스 분석 플랫폼입니다. 여러 데이터 소스를 연동하여 사용 할 수 있으며 시각화 된 데이터들을 대시보드로 만들 수 있습니다.

    
      LIVE DEMO
    
  
  
    앞서 설치한 그라파나와 프로메테우스의 메트릭 정보를 조회하여 시각화 하는 방법에 대해 알아보겠습니",Infra Structure
https://surfit.io/link/KvxJG,도커 컴포즈를 이용한 프로메테우스 설치,"프로메테우스는 오픈소스기반의 모니터링 솔루션이며 모니터링 대상이 되는 metric 정보를 pull 방식으로 수집합니다. 공식적으로 제공하는 exporter뿐만 아니라 여러 Third-pary exporter를 통하여 다양한 플랫폼을 모니터링 할 수 있는 장점이 있습니다.


여기서는 도커 컴포즈를 통하여 프로메테우스와 그라파나를 설치하고 Node-Expor",Infra Structure
https://surfit.io/link/KgkQW,"Docker Desktop 대탈출, multipass로 갑니다","Docker Desktop의 대체로 선택한 프로그램은 멀티패스다. 멀티패스는 맥 또는 윈도우(또는 리눅스) 머신에서 우분투 기반 도커 호스팅을 매우 빠르게 실행할 수 있게 만든다 (Microservices Up &amp; Running에서 발췌). 즉, 우분투 가상 환경을 macOS 위에 돌리고 그 안에서 도커를 설치해서 필요한 컨테이너를 구축하는 방식이다",Infra Structure
https://surfit.io/link/3N4e7,GitLab CI/CD 사용하기,"김준우
        2020.03.11.
        
    
    소개

GitLab에서 제공하는 Runner를 사용하여 저장소에 Push를 하게 되면 자동으로 프로젝트를 빌드, 배포하는 과정을 포스팅하였습니다.



Gitlab 기본 구성

GitLab, Docker, Kubernetes 설치과정은 생략하고 진행하겠습니다.

설치 버전

gitl",Infra Structure
https://surfit.io/link/w4PYb,IAM 유저 및 MFA 생성하기,"IAM(AWS Identity and Access Management)은 AWS 리소스에 대한 액세스를 안전하게 제어할 수 있는 웹 서비스입니다. IAM을 사용하여 리소스를 사용하도록 인증 및 권한 부여된 대상을 제어합니다.
물리 데이터 센터를 생각해봅시다. 출입이 허가된 인원들은 출입 카드를 통해 출입하거나, 리스트에 방문 기록을 하고 허가를 받아야 합니",Infra Structure
https://surfit.io/link/wmWEy,Crossplane #2: Configuration,Crossplane에는 컴포짓 리소스라고 프로바이더의 CRD를 조합해서 새로운 리소스를 만들어주는 기능을 제공하는데 이를 컴포짓 리소스(XR)이라고 한다. 참고로 Crossplane에서는 Composite Resource를 XR이라고 줄여 부르고 Crossplane Resource Model(XRM)이라고 부르는데 이미 Kubernetes에 CRD(Cust,Infra Structure
https://surfit.io/link/K2Z0D,폐쇄망 환경의 배포 시스템 개발기,"안녕하세요. 뱅크샐러드, Advanced Financial Infra Team(이하 AFIT) 서지원 입니다.
AFIT 은 최고의 개발환경을 구축한다 는 Vision 아래, IDC 에 Nutanix 를 올린 Private Cloud 환경을 멋지게 개선하고 있는 팀입니다.
이번 글은 AFIT 에서 진행한 Alice 라는 이름의 배포 시스템 개발 프로젝트 이야",Infra Structure
https://surfit.io/link/3B2Pl,Crossplane #1: 소개,"Crossplane은 애플리케이션에서 필요한 인프라스트럭처를 Kubernetes에서 직접 관리할 수 있게 해주는 프로젝트이다.

Kubernetes를 확장해서 사용하므로 Kubernetes 생태계를 그대로 이용할 수 있으면 인프라를 관리할 방법을 제공한다.



말로는 잘 이해가 안 될 수 있으니 설치를 해보자. 홈페이지에도 시작하기 문서가 있지만 바로 패",Infra Structure
https://surfit.io/link/3xON2,AWS Codebuild 용 커스텀 Windows Server 이미지 만드는 법,"AWS Codebuild는 AWS에서 제공하는 관리형 CI 서비스로 설치형인 Jenkins 등의 솔루션을 대체하는 서비스이다.

https://docs.amazonaws.cn/en_us/codebuild/latest/userguide/images/overview.png설치형 Jenkins를 사용할 때 겪는 다음 문제들을 피할 수 있고 다른 AWS 서비스들과",Infra Structure
https://surfit.io/link/wmZAZ,도메인 주도 설계에서의 전략적 설계,"List전략적 설계
    서브 도메인
        핵심 서브 도메인 (Core Sub-Domain)
          지원 서브 도메인 (Supporting Sub-Domain)
          일반 서브 도메인 (Generic Sub-Domain)
        
      바운디드 컨텍스트 (Bounded Context)
      유비쿼터스 언어",Infra Structure
https://surfit.io/link/KROnb,AWS 관련 주된 서비스 및 용어,"S3는 AWS가 제공하는 클라우드 스토리지 서비스입니다. 99.999999%라는 높은 내구성이 특징인 스토리지로 미리 스토리지 용량 등을 정의하지 않고 사용할 수 있으며, 데이터 공개 정책, 데이터 암호화, 비용 효율적으로 데이터를 장기 보관하기 위한 라이프사이클 정책 등의 많은 기능을 제공하는 유용한 서비스입니다.

S3에서는 스토리지의 기본 단위로 '버",Infra Structure
https://surfit.io/link/KbEDq,나와라 APK(feat. Jenkins),"“반복되는 일을 반복하지 않도록 하는 것”이 스마트하게 일하는 방법이라고 생각합니다.그럼 이제 Android 개발을 하면서 반복되는 일에 대해서 생각해봅시다. 어떤게 있을까요?앱은 배포되기까지는 해당 프로젝트에 속하는 많은 작업자 분들이 확인하는 단계가 필요합니다. 앱의 품질을 담당하는 QA분들은 물론, 해당 프로젝트의 기획자가 될 수도 있고 디자이너가 될",Infra Structure
https://surfit.io/link/Kp6aL,Elasticsearch APM 기본설정,"Elasticsearch은 모니터링 시스템으로 APM을 지원해 주고 있습니다. Spring 기반 웹서버에서 편리하게 구성할 수 있게 Elastic APM Agent를 제공하고 있습니다. 해당 포스팅에서는 스프링 기반의 웹서버를 Elasticsearch, Kibana를 이용해서 APM 연결하는 내용입니다. APM의 자세한 내용은 다음 포스팅에서 진행해보겠습니",Infra Structure
https://surfit.io/link/5z7AG,Chaos Engineering 개요,"Netflix는 안정적인 서비스 제공을 위해, AWS에만 의존하지 않고 자체적으로 ‘Chaos Engineering’ 기술을 도입하였습니다. 이를 통해, 예기치 않은 상황에서도 적기 대응이 가능하도록, 클라우드 기반 아키텍처에 탄력성을 구축하는 지속적인 노력을 기울였습니다. 그 결과, 위에서 언급한 2011년 대규모 AWS 중단 상황에서도 Netflix 홀",Infra Structure
https://surfit.io/link/woyN0,Golang 테스트 커버리지 측정과 코드 정적 분석 그리고 SonarQube,"여러 언어로 개발하다 보면 테스트 커버리지와 코드 코드 정적 분석Static program analysis 결과를 각각 보면 매우 불편한데 통합하여 한곳에서 볼 수 있으면 편할 것이다.
SonarSouce에서 만든 SonarQube는 코드를 분석하여 중복, 테스트 커버리지, 코드 복잡도, 버그, 보안 취약성 등을 보여주는 도구이다. 특히 다양한 프로그래밍 ",Infra Structure
https://surfit.io/link/37dqG,마이크로서비스 내부아키텍처 #3: 어플리케이션 구성 패턴,"마이크로서비스의 내부구조를 정의 시 반드시 고려해야 할 점 하나는 마이크로서비스 시스템에서 정의해야 할 마이크로서비스 내부구조가 다양 할 수 있다는 것이다. 왜냐하면 마이크로서비스는 앞서 살펴본 것처럼 자율적인 마이크로서비스팀에 의한 폴리그랏한 내부구조를 가질 수 있기 때문이다.

마이크로서비스사는 유용한 마이크로서비스 설계에 대한 유용한 가이드를 개발자 ",Infra Structure
https://surfit.io/link/5eXkZ,마이크로서비스 내부아키텍처 #2: 클린 아키텍처와 헥사고널 아키텍처,그동안 어플리케이션의 구조를 유연하게 하기 위한 많은 아이디어들이 존재해 왔다. 이번 포스트에서는 가장 일반적으로 많이 쓰이는 레이어드 아키텍처(Layered Architecture )에 대해 설명하고 최근의 마이크로서비스 설계자들이 마이크로서비스 내부구조를 유연하게 가져가기 위해 적용하고 있는 헥사고널 아키텍처(Hexagonal Architecture ),Infra Structure
https://surfit.io/link/wV0jo,마이크로서비스 내부아키텍처 #1: 데이터 중심 아키텍처의 문제점,"소프트웨어의 핵심은 비즈니스 로직(Business Logic)이라는 말을 많이 들어봤을 것이다. 비즈니스 로직이란 보통 시스템의 목적인 비즈니스 영역의 업무 규칙(Rule) , 흐름(Flow), 개념(Concept)들을 표현하는 용어이다. 
개발자의 역할이란 문제 영역의 이런 비지니스 로직을 분석,이해하여 프로그래밍 언어라는 도구로써 잘 표현 하는 일이다.",Infra Structure
https://surfit.io/link/wkj6X,추천 서비스가 컨테이너를 만났을 때 #1,"컨테이너는 어플리케이션 실행에 필요한 모든 환경(운영 체제, 실행 파일, 환경 변수, 라이브러리, 컴파일러 버젼 등)을 패키징하여 호스트와 분리된 환경을 구축하는 기술입니다. 컨테이너는 운영 체제(OS)를 가상화하여 호스트와 커널을 공유하기 때문에 호스트 OS 위에 여러 게스트 OS를 구동하는 가상머신(VM)에 비해 가볍고 빠르게 실행할 수 있습니다. 또한",Infra Structure
https://surfit.io/link/3Odqn,docker 이해하기,"도커는 애플리케이션을 신속하게 구축, 테스트 및 배포할 수 있는 소프트웨어 플랫폼이다. 소프트웨어를 컨테이너라는 표준화된 유닛으로 패키징하며, 컨테이너는 라이브러리, 시스템 도구, 코드 등 소프트웨어 실행에 필요한 모든 것이 포함되어 있다. 즉, 도커는 컨테이너 환경에서 독립적으로 애플리케이션을 실행할 수 있도록 컨테이너를 만들고 관리하는 것을 도와주는 도",Infra Structure
https://surfit.io/link/w496Q,IBM Cloud로 Node.js 배포하기,"IBM Cloud는 이름에서도 알 수 있듯이 IBM에서 제공하는 클라우드 서비스입니다. 개인적으로 무료 버전인 Lite로 사용할 경우 별도의 카드 번호 입력을 요구하지 않는 점이 좋았고, UI 또한 다른 서비스에 비해 깔끔하고 직관적이라는 인상을 주었습니다. 이제부터 IBM Cloud를 시작해볼까요?



1. 계정 생성과 로그인
먼저 IBM Cloud 화",Infra Structure
https://surfit.io/link/wJ4yL,스케일링 가능한 Ngrinder 환경 구축하기 (feat. AWS Beanstalk),"AWS Beanstalk을 이용하여 스케일링 가능한 Ngrinder 환경 구축하기를 진행해보겠습니다.

 Ngrinder의 Agent를 관리하고, 성능 테스트 전체를 관리하는 Controller를 EC2에 설치해보겠습니다.
Ngrinder의 release 페이지를 가보시면 현재 사용 가능한 버전들을 볼 수 있는데요.
Ngrinder release
현재 3.",Infra Structure
https://surfit.io/link/KraRZ,WATCHA K8S 전환 -PART 2,"MSA 구조로 바뀌면서 큰서비스들이 여러 작은 서비스들 분리되었습니다. 하지만 분리된 서비스들이 CLIENT 를 통해서 직접 호출하는 형태라고 한다면, 각 서비스별로 Endpoint 와 인증 및 권한 관리를 해야하는 번거로움이 생깁니다.게다가 클라이언트와 통신을 위해서 어느 정도 외부로 시스템을 노출시켜서 보안이 취약해 질 수도 있습니다.API GATEWA",Infra Structure
https://surfit.io/link/3qNeY,WATCHA K8S 전환 -PART 1,"Kubernetes는 컨테이너화된 애플리케이션을 자동으로 배포, 스케일링 및 관리해주는 오픈소스 시스템입니다.이전 WATCHA 에서는 AWS EC2 를 직접 운영하거나, ElasticBeanstalk 를 이용해서 EC2 또는 ECS 기반으로 운영하고 있었습니다.하지만 Kubernetes로 이전 하면서 각 서비스 개발자들이 인프라담당자 지원 없이도 손쉽게 원",Infra Structure
https://surfit.io/link/KP9BP,젠킨스 + SVN+ 메이븐+스프링을 이용하여 빌드업과 자동배포 하기,"스프링 기반의 서비스를 매번 빌드업하고 자동배포 하는 것이 불편할까봐 이를 해결해주는 CI/CD 툴인 젠킨스를 사용하게 되었습니다. 젠킨스를 처음 사용해봤기 때문에 틀린 부분이 있을 수 있습니다.

다음과 같은 순서로 진행해보겠습니다.

KTCloud를 이용하여 서버 구축 -&gt; 서버 내 톰캣(port80), JDK(1.8.x) 설치 -&gt; 젠킨스 ",Infra Structure
https://surfit.io/link/wn16g,Spring Cloud Config & Cloud Bus 정리,"Spring Config Server 정리를 통해서 Config Server에 대해서 알아봤습니다. 이번 포스팅에서는 Config Client를 알아보겠습니다.
각 서비스 애플리케이션은 해당 애플리케이션이 구동시 Config Server에 자신의 Config의 설정 파일을 읽어 오며, 애플리케이션이 구동 중에도 Config 설정을 변경해도 애플리케이션 재시",Infra Structure
https://surfit.io/link/3x2VY,Spring Config Server 정리,"스프링 Config Server는 각 애플리케이션에의 Config 설정을 중앙 서버에서 관리를 하는 서비스입니다. 중앙 저장소로 Github Repository뿐만 아니라 아래와 같은 저장소 환경을 제공해 주고 있습니다.
Git(Github)
JDBC
REDIS
AWS S3
등등…
본 포스팅은 Github Repository 저장소 기반으로 설명드리겠습니다",Infra Structure
https://surfit.io/link/5eXxn,코드로 인프라 관리하기 IaC - Terraform으로 EKS 클러스터 만들기,"IaC 란 “코드형 인프라” 라고 볼 수 있는데 인프라 구성을 코드화 시켜두어 구축, 관리 하는 것을 말합니다. 코드를 이용해 인프라를 구성하고 관리하고 있습니다.코드를 이용해 인프라를 구성하고 관리하면 어떤 이점이 있을까요 ?현재는 클라우드가 많이 활성화 되어 AWS, Azure, GCP, NCP 등등의 다양한 클라우드를 선택해 인프라를 쉽게 구성할 수 ",Infra Structure
https://surfit.io/link/wok0M,Netflix는 어떻게 수 백만 개의 디바이스를 모니터링 하나?,"Netflix는 수백만 개의 셋톱 박스, 스마트 TV, 스트리밍 스틱 및 기타 가전 기기에서 사용 중입니다. Netflix의 DRE(Device Reliability Engineering/디바이스 신뢰성 엔지니어링) 팀은 엄격한 초기 인증 과정을 거쳐 (위에서 언급한) 디바이스들이 수없이 많은 업데이트와 서비스 개선을 통해 고품질의 경험을 지속적으로 제공하",Infra Structure
https://surfit.io/link/3BZB9,AWS EBS gp3 출시하자마자 EKS에서 사용하기,"EBS는 EC2 instance에서 쉽게 사용할 수 있는 영구적인 volume입니다. AWS console 또는 API를 사용하여 EBS volume을 생성하고, EC2 instance에 붙이게 되면 Linux가 해당 volume을 device로 인식하게 됩니다. 그다음, mkfs 명령어를 사용하여 file system을 생성하고, mount 명령어로 지정",Infra Structure
https://surfit.io/link/KQYW0,"SOA, 모놀리틱, 그리고 MSA 아키텍처","마이크로 서비스 아키텍처를 이해하려면 먼저 모놀리틱 아키텍처 스타일에 대해서 이해해야한다.
모놀리틱 아키텍처 스타일은 기존의 전통적인 웹 시스템 개발 스타일로, 하나의 애플리케이션 내에 모든 로직이 들어가있는 ‘통짜 구조’이다.
각 컴포넌트는 상호 호출을 함수를 이용한 참조에 의한 호출 구조를 취한다.
전체 애플리케이션을 하나로 처리하기 때문에 개발 도구에",Infra Structure
https://surfit.io/link/w8g1z,Redis를 활용하여 Request 5배 더 받기,"Redis의 자료구조중 Sequantial한 데이터는 List, Set, Hash가 있습니다. 하지만 모두 각각의 element에 TTL을 줄 수 없습니다. TTL이 중요한 이유는 고객이 주문도중 이탈시 일정 시간이 지난 이후 자동으로 주문중 수량에서 제외가 되야하기 때문입니다.주문(결제)도중 이탈율이 낮을 것으로 판단했지만, 실제로 서비스 지표추출시 두자",Infra Structure
https://surfit.io/link/w4MdX,그라파나(Grafana)란?,"그라파나는 오픈소스 메트릭 데이터 시각화 도구로 메트릭 분석 플랫폼을 지향하고 있습니다. Torkel Ödegaard의 주도로 2014년 처음 릴리스되었으며, 처음에는 그라파이트Graphite, 인플럭스DBInfluxDB, 오픈TSDBOpenTSDB 등을 지원하는 오픈소스 대시보드 도구로 개발되었습니다. 메트릭 정보를 시각화하고 대시보드를 구성한다는 큰 틀",Infra Structure
https://surfit.io/link/3BJa9,Docker Compose로 Nodejs 개발/배포환경 구성하기 - Docker Compose,"도커 컴포즈는 여러 Docker 애플리케이션을 정의하고 실행하기 위한 도구입니다. 이를 활용하면 그동안 저희가 수행했던 CLI 명령어 옵션이나 컨테이너 간 실행 순서등을 파일로서 관리할 수 있게 됩니다.
이 파일로 관리한다는 점이 가지는 또 하나의 장점은, 바로 버전 관리가 된다는 것인데요. 도커 컴포즈를 구성하는 docker-compose.yml 파일에 ",Infra Structure
https://surfit.io/link/50ZkD,nGrinder에 적용한 HttpCore 5와 HttpCore 5 살펴보기,nGrinder는 네이버에서 개발해 오픈소스 소프트웨어로 공개한 부하 테스트 플랫폼입니다. 가상의 사용자를 모방해 타깃 서버에 부하를 가하는 부하 테스트 플랫폼의 특성상 상당히 많은 스레드를 사용해 HTTP 요청을 발생시킵니다. nGrinder에서 사용하던 HTTP 클라이언트에는 스레드 수가 많아질수록 부하 테스트 양의 증가가 미미해진다는 한계가 있었습니다,Infra Structure
https://surfit.io/link/3BZbl,Boost GitLab CI / CD Pipeline Efficiency,"CI / CD 파이프라인 효율성 향상시키기
새로운 프로젝트를 시작하면서 기본 구성에서 시작하여 시행 착오를 통해 시간이 지남에 따라 파이프라인 구성을 개선하는 것이 일반적입니다.

더 나은 프로세스는 효율성을 즉시 개선하고 더 빠른 소프트웨어 개발 수명주기를 더 일찍 확보하는 파이프 라인 기능을 사용하는 것입니다.

파이프라인을 보다 효율적으로 만들면 개발",Infra Structure
https://surfit.io/link/Kg9xJ,나만의 k8s 클러스터 구축하기 - #1 VirtualBox편,"쿠버네티스 클러스터를 만드는 방법은 다양합니다. Minikube을 이용하는 방법, 클라우드 플랫폼의 VM을 이용하여 구축하는 방법, 라즈베리파이 보드를 구매하여 클러스터를 만드는 방법 등 다양한 방법들이 있습니다. “나만의 k8s 클러스터 구축하기” 시리즈에서 이러한 방법들을 하나씩 살펴 볼까합니다. 첫 포스트에서는 원도우 PC위에 VirtualBox를 이",Infra Structure
https://surfit.io/link/KYq8g,실용주의 데브옵스 for MSA,"여러 책을 읽어 보면, 하나의 클러스터 내에서 여러 개발 환경을 네임스페이스로 논리적으로 구분해서 사용 가능하다고 이야기하고 있습니다. 하지만 저희는, 하나의 클러스터에 모든 개발 단계를 포함하게 되면 운영과 관리의 요소는 줄겠지만 서비스 안정성은 떨어질 수 있다고 판단했습니다. 그래서, 운영 및 관리의 편의성을 위해 Dev와 Sandbox는 통합하고, C",Infra Structure
https://surfit.io/link/wdxnN,Naver Pinpoint APM Node 버전 설치하기,"자바 진영에서 유명한 분산 환경 APM (Application Performance Monitoring) 도구를 고르라고 하면 네이버에서 만든 Pinpoint를 쉽게 떠올리곤 하는데요.
특히나 요즘 같이 분산환경에서 애플리케이션 모니터링에 최적화된 기능들이 많아 백엔드 구성하는데 있어 큰 도움을 받는데요.
아쉽게도 그동안 공식적으로 Java / PHP / ",Infra Structure
https://surfit.io/link/50lez,LINE 광고 플랫폼의 MSA 환경에서 Zipkin을 활용해 로그 트레이싱하기,"MSA를 기반으로 각 서비스를 게이트웨이와 애드서비스, 리포트, 빌링, 리뷰 등의 여러 개로 구성했습니다. 이런 선택은 서비스가 성장하면서 인원이 늘어났을 때 효율적으로 협업할 수 있도록 좋은 영향을 주었지만 서비스가 안정화되기까지는 발생한 문제들을 확인하는 데 어려움이 있었습니다. 이런 경험을 바탕으로 MSA 환경에서 효율적으로 문제를 확인하기 위해 저희",Infra Structure
https://surfit.io/link/50QvD,HTTP to HTTPS로 배포하기 (S3 기준),"Https로 바꾸기 위해서는 S3, CloudFront, AWS Certificate Manager, Route53 을 이용해야 합니다. S3는 정적인 웹 호스팅이여서 EC2와 같은 동적인 웹 호스팅의 Https는 EC2의 Load Balancer를 이용해야 합니다.

Route53에서 도메인 구매 후 S3로 배포했다는 가정하에 진행하겠습니다.  


AW",Infra Structure
https://surfit.io/link/3xJ4E,우리의 Thread는 왜 이렇게 부자가 되었을까?,"최근 저희 팀에서 OOM 이슈 관련하여, 분석해 본 결과 병렬 처리 진행을 위해 ForkJoinPool을 사용하게 되면서 겪은 이슈에 대해 공유드리고자 합니다.발생 시점부터, 무엇이 문제였는지 상세히 작성하였고 기본적인 내용도 포함되어 있으므로한 번쯤 시간 나실 때 담당하시는 서비스도 확인해보시면 좋을 것 같아 글을 쓰게 되었습니다.
1. 문제 발생
202",Infra Structure
https://surfit.io/link/3OJad,Elastic Stack으로 코로나19 대시보드 만들기 - 2부 : 대시보드,ElasticStack에서는 Kibana라는 강력한 시각화 도구를 제공하는데 이번 포스팅에서는 Kibana를 이용해서 대시보드를 만드는 방법에 대해 알아보려 한다.　﻿Elasticsearch에 인덱싱 되어있는 데이터들은 기본으로 제공되는 REST API를 통해서 조회할 수 있고 JSON 형태로 결과가 나오기 때문에 이를 가지고 다양하게 시각화를 할 수도 있,Infra Structure
https://surfit.io/link/3Ar07,Elastic Stack으로 코로나19 대시보드 만들기 - 1부 : 파이프라인 구성,"﻿예전에는 Elasticsearch, Logstash, Kibana 3가지를 가지고 ELK라 불리다 Beat라는 경량 수집기 제품이 등장하며 이 모든 걸 ElasticStack라 부르기 시작했다. (공식 홈페이지 참고) 먼저 어떤 목표와 어떤 순서로 대시보드를 구성할 것인지에 대해 정리해봐야겠다.﻿　﻿데이터는 공공데이터 포털에서 가져오려다 조회를 해보니 누",Infra Structure
https://surfit.io/link/3APGj,셔플 샤딩을 사용한 워크로드 격리 기법,"셔플 샤딩의 작동 원리를 이해하려면 먼저 일반적인 샤딩을 통해 시스템의 확장성과 복원력을 확보하는 방법부터 살펴보아야 합니다. 8개의 워커로 이루어진 수평 확장이 가능한 시스템이나 서비스를 예로 들어보겠습니다. 다음 이미지는 워커와 그 요청을 보여줍니다. 워커는 서버일 수도 있고, 대기열일 수도 있으며, 데이터베이스일 수도 있습니다. 시스템을 구성하는 “것",Infra Structure
https://surfit.io/link/KgZX9,Github Actions으로 배포 자동화하기,"Github Actions이란 Github에서 제공하는 워크플로우(workflow)를 자동화하도록 도와주는 도구이다. 테스트, 빌드, 배포 등의 다양한 작업들을 자동화하여 처리한다. 
요금과 제한
public 저장소의 경우 무료로 사용 가능하며 private 저장소는 월마다 제공되는 무료 사용량 초과 시에 요금이 부과된다. 무료 계정을 기준으로 500MB의",Infra Structure
https://surfit.io/link/3L00W,서비스 가용성 확보에 필요한 Rate Limiting Algorithm에 대해 | Mimul Tech log,"서비스를 운영하다보면 의도적이든 의도적이지 않던간에 서비스의 가용성(API레벨, 네트워크 레벨, 컨테이너 레벨, CPU 레벨이든)을 유지하기 위해서 클라이언트의 과도한 사용에 대해 스스로를 보호해야 합니다. 간과하기 쉽지만, 서비스의 가용성을 유지하기 위한 노력은 클라이언트 측(앱/웹))에도 같이 설계를 해주는 것이 바람직합니다. 서비스를 보호해주는 수단으",Infra Structure
https://surfit.io/link/KY4ng,[AWS] Route 53 도메인 구매 후 연결하기,"Amazon Route 53는 높은 가용성과 확장성이 뛰어난 클라우드 웹 서비스입니다. 홈페이지 가시면 더 자세히 보실 수 있는데 이번 글에서는 도메인을 구매하여 설정하는 방법에 대해 알아보려고 합니다.

저 같은 경우 포트폴리오를 example.com 의 도메인을 가진 웹 사이트로 만들고 싶어서 카페24, 가비아 등을 알아보다가 AWS S3, EC2, R",Infra Structure
https://surfit.io/link/wVPGp,EC2를 이용하여 Node.js 서버 배포하기,"EC2 같은 경우 S3와 다르게 비용이 꽤 나옵니다. 그러므로 필요할 경우가 아니면 반드시 인스턴스를 중지해야 합니다. 아닐 경우 청구서 보고 저처럼 깜짝 놀랍니다 ㅜㅜ 

AWS EC2에 접속하고, 인스턴스 시작 버튼을 눌러줍니다.


우분투를 사용할 것이기에 18.04 버전의 우분투를 선택해줍니다.

인스턴스 유형 선택에서 이미지와 같이 체크하고 검토 ",Infra Structure
https://surfit.io/link/37YjD,제모옥은 젠킨스 조회로직 개선으로 하겠습니다. 근데 이제 비동기를 곁들인,"수행된 상태를 실시간으로 조회하기 위해 어떤 방법을 선택해야 하는가?

크게는 두 가지 방법을 놓고 고민했는데요.
바로 Spring Batch Metadata Tables와 젠킨스 API 였습니다.

Spring Batch Metadata Tables



Spring Batch Metadata Tables(Schema)는 Spring Batch로 수행된 ",Infra Structure
https://surfit.io/link/woAAM,스타트업 개발자가 리눅스 서버에 들어가면 언제나 하는 작업들,"인프라 엔지니어는 아니지만, 서비스를 운영하면 당연 서버 운영도 해야 하기에 매일 서버에 들어가서 모니터링을 하게 되는데, 이것을 좀 정리를 하면 추후 더 보완 및 개선할 수 있는 여지가 있을 것 같아 정리해봅니다. 성능 관점에서 접근하려면 Netflix 기술 블로그 글 Linux Performance Analysis in 60,000 Millisecond",Infra Structure
https://surfit.io/link/KYZLV,"Spring Master, Slave 트랜잭션 처리 방식","대부분의 서비스에서는 데이터베이스를 Master, Slave 구조로 Master에서는 Create, Update, Delete 업무를 진행하고 Slave에서 Read 업무를 진행하는 구조로 설계합니다. Spring의 Master, Slave 환경에서의 트랜잭션에 대해서 포스팅해보겠습니다.
레플리케이션
MySQL 레플리케이션

MySQL은 위와 같은 구조로 ",Infra Structure
https://surfit.io/link/wJR0N,PostgreSQL RDS Slow log Slack으로 알람 보내기,"서비스를 운영하다보면 여러가지 이유로 서버 장애가 발생합니다. 그 중 가장 빈도수가 높은 원인은 DB의 슬로우쿼리일텐데요. 어떤 쿼리가 언제, 얼마나 긴시간동안 수행되었는지에 대해 알람을 받거나 모니터링이 되어야 서비스에 이슈가 될만한 쿼리들을 지속적으로 탐지하고 개선이 가능하기 때문입니다.
이번 시간에는 AWS RDS PostgreSQL에서 슬로우 쿼리에",Infra Structure
https://surfit.io/link/KvAkD,웹 퍼포먼스 개선을 위한 Lighthouse CI 도입기,"웹페이지의 퍼포먼스를 지속적으로 개선하기 위해서는 측정할수 있는, 수치화된 지표가 필요합니다.



이 지표로 저희 팀에서는 Web Vitals 를 따르고 있습니다.



Web Vitals란 구글에서 제안하는, 더 나은 웹페이지를 개발하기 위한 가이드라인으로, 아래에서 설명할 세가지 핵심 지표들을 포함하고 있습니다.



LCP(Largest Conten",Infra Structure
https://surfit.io/link/wZEEZ,"쿠버네티스 2,500대 노드 운영하기",우리는 2년 동안 딥러닝 연구용으로 쿠버네티스를 사용해 왔습니다. 비록 큰 작업(workload)에는 클라우드 위에서 VM을 바로 사용하지만 쿠버네티스를 이용하면 빠른 개발 주기를 가지고 적절할 확장성과 함께 적은 공수로 기계학습 작업을 수행할 수 있어 우리가 사용하는 대부분의 딥러닝 실험에 쿠버네티스를 이용합니다. 현재는 몇몇의 클러스터를 운영하고 있고(,Infra Structure
https://surfit.io/link/KrAMZ,Airflow와 함께한 데이터 환경 구축기(feat. Airflow on Kubernetes),"이번 글에서는 쏘카 데이터 그룹의 태동기(2018년)부터 현재(2021년)까지 어떻게 Airflow를 구축하고 운영했는지를 소개합니다. 특히 최근에 쏘카 데이터 그룹에 Kubernetes(정확히는 Google Kubernetes Engine)를 도입했는데, Kubernetes 위에서 Airflow를 어떻게 활용했는지에 대해 자세히 담아보려 노력했습니다.

",Infra Structure
https://surfit.io/link/wJedV,Amazon Builders Library를 아십니까?,"아마존의 개발 문화를 엿보기 위해 제가 추천 드리는 가장 좋은 방법은 Amazon Builders Library를 살펴 보는 것입니다.



이 문서 모음에는 아마존에서 소프트웨어를 개발, 설계, 출시 및 운영하는 방법을 설명하고 있습니다. 각 문서들은 아마존 엔지니어링의 중추적 역할을 하는 수석 엔지니어들이 아키텍처, 소프트웨어 전송 및 운영에 관한 다양",Infra Structure
https://surfit.io/link/wVLak,마이크로서비스 도입 이렇게 한다,"중국에서 마이크로 서비스 구축 경험 때문인지 작년까지는 이곳저곳에서 관련 자문 등의 요청을 종종 받곤 했다. 그리고, 한동안은 마이크로 서비스 공부하게 책 하나 추천해주세요  같은 요청도 받았다. 마침 지인이기도 한 박재호님이 번역하신 &lt;마이크로 서비스 도입 이렇게 한다&gt; 책을 받아 훑어 봤는데... 구성이 꽤 충실했다.
이를 계기로 마이크로 서",Infra Structure
https://surfit.io/link/3LndD,쿠버네티스 Admission Control #1,"이번 포스트에서는 Admission Controller가 무엇인지 알아보고 직접 custom webhook을 구현해 보는 시간을 가져보겠습니다.

Admission Control란?

쿠버네티스 접근제어에는 크게 3단계가 있습니다.



Authentication: 접속한 사람의 신분을 시스템이 인증하는 단계입니다. (신분증 확인)
  Authorizati",Infra Structure
https://surfit.io/link/w8lvz,버킷플레이스 Airflow 도입기,"버킷플레이스 데이터 플랫폼에서는 오늘의집 서비스에서 발생한 다양한 데이터를 수집하고 가공하여 오늘의집 구성원과 데이터가 필요한 사용자, 서비스에 제공하는 역할을 하고 있습니다. 버킷플레이스에서는 데이터를 기반으로 의사결정을 진행하기 때문에 빠르고 정확하게 데이터를 제공하는것이 매우 중요합니다.",Infra Structure
https://surfit.io/link/3A6n1,도커 레지스트리 만들기,"도커의 강점 중 하나는 다른 사람이 만들어놓은 이미지를 도커 허브에서 언제든지 받을 수 있다는 점입니다. 그런데 도커 허브는 퍼블릭 저장소는 제한 없이 제공하지만 프라이빗은 그렇지 않습니다. 만약 회사에서 사용하는 이미지를 서버에 저장하고 싶을때 어떻게 해야 할까요?
​
이미지 자체를 백업한다.
  클라우드에 레지스트리를 만든다.
  온 프레미스에 레지스트",Infra Structure
https://surfit.io/link/wDaL9,streaming API를 사용한 네이버페이의 대형 XLSX 파일 다운로드 구현,"네이버페이에서는 엄청난 양의 데이터가 생성됩니다. 자신이 생성한 많은 데이터를 한꺼번에 보고 싶어 하는 판매자를 위해 네이버페이는 Microsoft Excel 통합 문서 파일(XLSX 파일) 다운로드 기능을 제공합니다.

일반적인 웹 페이지는 페이징(paging)을 사용합니다. 해당 데이터가 어떤 기간에 생성되었든 한 페이지에 표시할 수 있는 내용만 표시합",Infra Structure
https://surfit.io/link/KPqWM,개발자들에게 도움이 될 만한 9가지 기본 아마존 웹서버 서비스,"아마존 웹서비스(Amazon Web Service, AWS)는, 정말 어지러울 정도로 많은 서비스를 제공합니다. 2020년, 작년 한 해 AWS 서비스에 많은 변화가 있었던 것도 주목할 사항이고요. 무엇보다 처음 방문하면 보통 traditional 웹서버 운영방법과 다른 점도 많고 각 서비스의 이름들도 생소한 관계로 많은 개발자분들이 어려운 점을 느끼는 게",Infra Structure
https://surfit.io/link/3X7WJ,Jenkins에서 Kubernetes 플러그인을 이용해 보다 쉽고 효율적으로 성능 테스트하기,"성능 테스트는 모든 LINE 서비스에서 없어서는 안되는 필수 과정입니다. 하지만 다음과 같은 이유로 성능 테스트의 환경을 설정하고 관리하는 작업이 항상 쉽고 효율적인 것은 아닙니다.



먼저, 기능과 컴포넌트, 이벤트 등에 따라 서버 워크로드의 기준이 다릅니다. 컴포넌트의 종류나 이벤트의 규모에 따라 해당 기능의 성능 기준이 달라지기 때문에 RPS(Req",Infra Structure
https://surfit.io/link/3OBPr,Amazon Chime SDK를 활용한 영상면접 서비스 개발,"이 글에서는 Amazon Chime SDK(이하 Chime SDK)를 활용한 부분을 중점적으로 작성하였습니다.


현재 영상면접 서비스는 PC에서만 제공되고 있으며 모바일 지원 및 채팅 기능 등 다양한 기능이 추가될 예정입니다.

서비스 흐름
사람인에서는 기업회원이 등록한 공고의 지원자 또는 인재Pool에 이력서를 공개한 개인회원에게 면접일정을 요청하고 요",Infra Structure
https://surfit.io/link/KExY9,이커머스에서 검색엔진이 필요한 이유,"상품 정보 텍스트에서 의미있는 용어를 추출할 수 있다
RDB를 사용한 단순 질의에서는 검색 키워드가 상품명에 정확히 포함되어 있어야 해당 상품을 조회할 수 있습니다.
예를 들어, “다이슨선풍기"" 키워드로는 “다이슨 DP-03 퓨어쿨 선풍기” 상품을 조회할 수 없습니다.
검색엔진은 다양한 패턴의 키워드로 원하는 상품을 찾을 수 있도록 돕는 역할을 합니다. 예",Infra Structure
https://surfit.io/link/3Ge2W,Open Distro for Elasticsearch — 로그를 활용한 장애 탐지,"지난해 12월 30일 새벽, 29CM의 결제 서비스가 외부 협력사의 서버 문제로 중단된 적이 있었습니다. 장애는 자정부터 시작되어 약 3시간 40분가량 지속되었으며 해당 시간 동안 사용자가 요청한 모든 결제가 실패했습니다.



사실 29CM 의 결제 서비스 중단 원인은 외부 협력사의 서비스 장애가 근본 원인이었기 때문에 이슈 해결을 위해 저희가 할 수 있",Infra Structure
https://surfit.io/link/wkpZP,Kubernetes의 네트워크 이슈를 해결할 수 있는 network-node-manager,카카오 사내에서 DKOS라고 불리는 Kubernetes Platform을 운영하는 도중에 많은 Kubernetes 관련 Network Issue들을 경험할 수 있었습니다. 그중에 몇몇 Network Issue들은 Kubernetes Cluster를 구성하는 Node에 간단한 Network 설정을 추가하여 해결할 수 있는 Network Issue도 존재하였습,Infra Structure
https://surfit.io/link/w84G0,검색을 위한 데이터 다루기,"배달의민족 검색시스템에서 검색에 사용되는 데이터를 적재하면서 경험했던 어려움과 해결했던 방법을 공유하고자 합니다.

검색시스템이란?
먹고 싶은 음식을 찾는 첫 단계 
배달의민족에서 검색시스템은 주문하고 싶은 가게 또는 메뉴를 빠르게 찾을 수 있도록 도와주는 여러 기능을 개발하고 있습니다.
검색 기능
  인기검색어
  1인분, 채식 등의 테마 지면 리스팅
 ",Infra Structure
https://surfit.io/link/3MbaR,"AWS 도쿄 리전 장애 발생, 특정 AZ 일부 구역의 온도 상승이 원인","2021년 2월 19일 오후 11시부터 20일 새벽까지 AWS 도쿄 리전에서 대규모 장애가 발생했습니다. AWS Status에는 일본어와 영어로 장애 상황이 업데이트 되었으며, 한국 시간 기준 20일 0시 9분부터 apne1-az1의 일부 EC2 인스턴스와 EBS 볼륨이 정상 동작하지 않은 것으로 보입니다.
장애 시점의 Downdetector 현황후속 리포",Infra Structure
https://surfit.io/link/3xd8j,하시코프(HashiCorp)란? 모던 인프라스트럭처 툴 개발,"HashiCorp는 2012년 미셸 하시모토Mitchell Hashimoto, 아몬 데드거Armon Dadgar 창업한 기업으로, 오픈소스로 모던 인프라스트럭처 도구를 개발하고 이를 기반으로 클라우스 서비스를 제공하고 있습니다. 미셸 하시모토는 창업 이전부터 가상 머신으로 개발 환경 셋업을 도와주는 베이그런트Vagrant를 루비로 개발해왔으며, 현재는 Ha",Infra Structure
https://surfit.io/link/3Nb2P,네트워크장비 트래픽 모니터링 - 평균의 함정,"2018년 11월경에 응답속도가 느려지거나 정상적으로 연결되지 않는 현상이 짧게는 수초동안 길게는 몇분간 간헐적으로 발생한 적이 있었습니다.

서버 부하등 시스템상으로도 특이사항이 없다
  5분단위로 수집되는 트래픽도 특이사항이 없다
  IDC 에서 제공해주는 트래픽 차트에도 트래픽과부하는 아니다
  10초 주기 웹사이트 관제의 경우 메인라인을 통해 접근되",Infra Structure
https://surfit.io/link/KvdeD,AWS Athena로 S3 활용 확장하기,"현재 브랜디 내 제가 소속되어 있는 팀은 최상의 풀필먼트 서비스를 제공해주기 위해 다양한 기술을 학습하고 해당 모델을 실서비스에 접목시키려고 많은 시도를 하고 있습니다. 그 중에서 풀필먼트 시스템을 사용하는 분들에게 주문 및 전반적인 물류와 관련하여 다양한 통계지표를 제공해 드려야 했습니다.

기존 통계지표를 얻기 위해서는 실서비스에 최대한 영향을 끼치지 ",Infra Structure
https://surfit.io/link/KYQGM,Slack webhook 으로 Upsource 코드 리뷰 알람 받기 (멀티 슬랙 채널),"현재 Upsource는 Slack과의 통합 (Integration)을 지원하지 않습니다.  
Integration with slack is not working via webhook  
그래서 어쩔 수 없이 Slack의 웹훅을 통해 직접 연동을 구현해야하는데요.  
여기서 문제는, Upsource는 웹훅 URL 호출만 지원합니다.  


  보시는것처럼 U",Infra Structure
https://surfit.io/link/Kbapk,쿠버네티스에서 쉽게 저지르는 10가지 실수,"우리는 그 동안 다양한 쿠버네티스 클러스터(직접 혹은 관리형)를 볼 수 있는 기회가 있었고 사람들이 몇가지 반복적인 실수를 하는 것을 알게 되었습니다. 사실 우리도 비슷한 실수들을 하였습니다. 몇가지 흔한 케이스에 대해서 설명하고 고치는 방법에 대해서 공유하고자 합니다.

리소스 설정 - requests and limits

리소스 설정 부분이 가장 많은 ",Infra Structure
https://surfit.io/link/3jeAx,Github Action & AWS Beanstalk 배포하기 - Github Action으로 빌드하기,"기존에 사이드 프로젝트를 만들면 다음과 같은 환경에서 진행을 해왔습니다.  
TravisCI &amp; AWS Code Deploy
TravisCI &amp; AWS Beanstalk
상황에 따라 골라 쓰긴 했지만, 큰 불편함이 없었는데요.  
최근 대세가 TravisCI에서 Github Action으로 넘어갔음이 느껴져 Github Action과 Bean",Infra Structure
https://surfit.io/link/wVpMR,Kafka Producer 알아보기,"Kafka는 비즈니스 소셜네트워킹 서비스인 링크드인에서 시스템 복잡도가 늘어나고 파이프라인이 파편화됨에 따라, 개발이 지연되고 데이터 신뢰도가 떨어지는 문제를 해결하기 위해 만들어진 데이터 처리 시스템이다. 초기 Kafka는 다음과 같은 목표를 가지고 만들어졌다.

Producer와 Consumer의 분리
  메시지 시스템과 같이 영구 메시지 데이터를 여러",Infra Structure
https://surfit.io/link/wmEVk,로컬 개발환경 Docker 사용하기,"IT기술이 나날이 발전하고 있습니다. HTML5의 시대가 도래된 이후, 수많은 기술들이 나왔고 새로운 패러다임을 제시한 것 중 하나인 Docker로 로컬 개발환경 셋팅 하는 것을 소개하려고 합니다.


Contents

Docker의 소개
  Docker의 기본적인 설치, 설정, 빌드, 실행 방법
  실무에서 활용 하기와 주의사항
  마무리

1. Dock",Infra Structure
https://surfit.io/link/37j7Q,선물하기 시스템의 상품 재고는 어떻게 관리되어질까?,"이 글에서는 배달의민족 선물하기 서비스의 상품권 재고관리를 위한 시스템 설계에 대한 경험을 공유드리고자 합니다.


들어가며

선물하기 서비스는 배달의민족 어플리케이션에서 고객분들끼리 일종의 상품권을 서로 선물하여 맛있는 음식으로 마음을 전하는 아주 뜻깊은 서비스 입니다.
저희 팀에서는 선물하기 서비스를 담당하여 개발을 진행하게 되었고, 약 6개월간의 개발",Infra Structure
https://surfit.io/link/3AQNp,Kubernetes 클러스터에 배포할 애플리케이션의 로컬 개발을 쉽게 해줄 Telepresence,"비정기적으로 하는 인프라 스터디에서 12월부터 Programming Kubernetes를 보고 있다. 2년 전에 했던 방식과 비슷하게 이번에도 일주일에 한 번씩 1시간은 책의 진도를 나가고 한 시간은 CNCF의 프로젝트(라고 했지만, 딱히 CNCF가 아니더라도...)를 하나씩 살펴보고 공유하고 있다. 2년 전 스터디에서는 Cortex를 살펴봤다.

이번에는",Infra Structure
https://surfit.io/link/59EgB,Amplify에서 S3 CloudFront로 전환하기,"Amplify는 웹 서비스를 개발하고 배포하기 위해 필요한 AWS의 기능들을 짜깁기한 서비스다. github을 연동하고 설정만 조금 만지면 웹 앱 하나가 뚝딱 만들어진다. S3, CloudFront를 설정하고 연동해야 하는 부담이 없어 사용했다. 하지만 기능이 간소화 된 만큼 디테일한 부분을 다루는 게 불가능했다. 나의 경우 배포 후 캐시를 삭제할 수 없어",Infra Structure
https://surfit.io/link/KEkne,strace를 통해 젠킨스 트러블 슈팅 하기,"오늘은 strace 명령을 통해서 젠킨스 서버에서 발생한 이슈를 해결한 이야기를 해볼까 합니다. 특히 원인 불명으로 CPU의 사용률이 높아져 서버가 먹통이 되는 현상을 strace 명령의 도움을 통해서 해결한 이야기 입니다. 그럼 시작해 보겠습니다. 

사건의 발단

사건의 발단은 이렇습니다. 아무 문제 없이 운영 중이던 젠킨스 서버가 갑자기 아무런 작업도",Infra Structure
https://surfit.io/link/wnGdg,MySQL MSR(Multi Source Replication) 도입,"큰 하나의 데이터베이스(Monolithic)를 여러개의 데이터베이스(MSA)로 구조를 개선하면서  
발생하는 이슈에 좀 더 쉽게 대응하기 위하여 MSR을 도입한 사례에 대해서 간략하게 설명하겠습니다.

소개

저희 IT전략팀은 사람인의 계속적인 서비스 확장에 따른 개발 복장성 증가 및 서비스 간 강한 결합으로 인한 각 개발팀간 병렬 작업에 따르는 복잡한 상",Infra Structure
https://surfit.io/link/504lE,온프레미스 엔지니어의 퍼블릭 클라우드 정착기,"오늘은 기술적인 내용이라기보다는 이직 후 제가 경험했던 내용들에 대해 이야기해보려고 합니다. 제목 그대로 온프레미스 환경에 익숙했던 엔지니어가 퍼블릭 클라우드 환경으로 정착해 가는 과정을 통해서 그동안 느꼈던 것들 그리고 개인적인 고민들에 대해서 이야기해 보겠습니다.

이직의 이유

시간을 거슬러 올라가 먼저 이직을 하게 된 이유에 대해서 이야기해 보겠습니",Infra Structure
https://surfit.io/link/KYdoP,CloudWatch 이상 동작 탐지 기능 사용하기 #1,"오늘은 CloudWatch의 이상 동작 탐지 기능을 통해 갑작스러운 패턴 변화 등을 감지하여 모니터링하는 시스템에 대해 이야기해보려고 합니다. 특히 로그 수집 시스템으로 각광받고 있는 ElasticStack과의 연동을 통해서 애플리케이션에서 발생하는 슬로우 로그의 패턴을 분석하는 과정을 그려 나가 보겠습니다.
CloudWatch의 이상 동작 탐지 기능 예제",Infra Structure
https://surfit.io/link/Kprom,Lambda@Edge와 CF Invalidation,"AWS에는 Lambda@Edge라는 기능이 있습니다. Lambda@Edge는 CloudFront (이하 CF)가 동작하는 엣지 서버에서 실행되는 Lambda 함수를 의미하며, CF로 인입되거나 CF의 오리진으로부터 오는 응답을 가로채서 사용자의 의도에 맞게 변경하는 역할을 해줍니다. 그리고 Lambda@Edge를 활용해서 할 수 있는 것 중에 이미지 리사이",Infra Structure
https://surfit.io/link/Kbdoe,초보자를 위한 맥OS 쿠버네티스  스프링부트 배포하기,"이 글은 맥북을 사용하는 개발자 중에서 쿠버네티스를 처음 접하는 초보자에게 추천하는 글이다. 쿠버네티스를 이미 사용중인 개발자는 해당 글은 읽지 않아도 된다. 필자의 글에서 잘못된 내용이 있다면, 그냥 지나가지 말고 댓글로 이런저런 의견을 남겨주길 바란다. 



[위키피디아]쿠버네티스(Kubernetes)는 디플로이 자동화, 스케일링, 컨테이너화된 애플리",Infra Structure
https://surfit.io/link/37ml6,nginx no live upstream 에러 이해하기,"글 발행 후 새롭게 확인된 사실이 있어 업데이트 합니다!!

nginx를 리버스 프록시로 운영하다 보면 다양한 이슈를 만나게 됩니다. 오늘은 그중에서 no live upstream 에러에 대해서 이야기하려고 합니다. no live upstream 에러가 왜 발생하고 어떻게 해결할 수 있는지에 대해 살펴보겠습니다.

reverse proxy 로서의 nginx",Infra Structure
https://surfit.io/link/wnd8N,ElasticSearch 스냅샷을 S3글래셔로 저장하기,ElasticSearch를 기반으로 로그 수집 및 조회 시스템을 운영하다 보면 법적인 요건 등 다양한 이유로 오랜 시간 로그를 보관하고 있어야 할 경우가 있습니다. 하지만 언제 조회하게 될지도 모를 로그들을 저장하기 위해 많은 수의 데이터 노드를 운영한다는 건 배보다 배꼽이 더 커지는 경우가 됩니다. ElasticSearch에서는 이런 경우를 위해 스냅샷이,Infra Structure
https://surfit.io/link/3xZog,IAM Role을 이용해서 EC2에 권한 주기,"IAM은 AWS에서 핵심이 되는 부분 중 하나입니다. AWS에 있는 다양한 객체들에게 어떤 일을 할 수 있고 어떤 일을 할 수 없는지 권한을 부여하기 때문입니다. 특히 빌드 및 배포를 위한 파이프라인, 로그 데이터 수집을 위한 데이터 파이프라인 등 AWS의 여러 객체들을 묶어서 자동화를 구축하게 된다면 각각의 객체가 가져야 할 권한을 할당해 주는 일은 매우",Infra Structure
https://surfit.io/link/5zoE0,"ElasticSearch, OOM을 막아보자","오늘은 ElasticSearch(이후 ES) 운영 중에 맞닥뜨릴 수 있는 가장 흔한 주제 중에 하나인 OutOfMemory(이하 OOM)에 대해서 이야기해보려고 합니다. OOM의 전조 증상과 그에 따른 나름대로의 대비책에 대해 살펴보겠습니다.

OOM 이란 무엇인가?

Java 기반의 애플리케이션들은 힙 메모리라는 것을 필요로 합니다. 이 영역에 연산에 필",Infra Structure
https://surfit.io/link/504zz,쿠버네티스 시작하기 - 설치부터 배포까지,"개발 환경 vs 운영 환경
개발 환경은 Docker for desktop, minikube, kind, k3s가 있고 운영환경은…
일반서버(On-Premise) vs 클라우드(Cloud)
회사에서 직접 서버를 관리하는 경우는 kubeadm, kubespray, rancher, openshift가 있고 클라우드는..
AWS vs Google Cloud vs ",Infra Structure
https://surfit.io/link/KpOD9,AWS WAF 운영에 대한 이야기,"퍼블릭 클라우드 환경에서의 보안을 책임지는 보안팀은 클라우드 환경에서의 보안 수준을 IDC 환경 보안 수준과 동일 또는 그 이상의 수준으로 만드는 데에서 어려움을 겪고 있습니다. 그중 인프라 보안을 책임지는 WAF는 웹, 앱 서비스를 하는 기업이라면 필수로 도입해야 하는 보안 솔루션 중 하나입니다.
이 글을 통해 AWS WAF 운영 경험을 공유함으로써 AW",Infra Structure
https://surfit.io/link/3XAWG,AWS Personalize 과거데이터 갱신 프로세스 자동화하기,"최근 e-commerce 시장은, 데이터 기반의 개인화 추천 서비스에 많은 관심을 갖고 적극적으로 도입하고 있습니다.  브랜디 서비스도 AWS Personalize 알고리즘을 활용한 실시간 개인화 추천 서비스를 제공하고 있습니다.
(이전 글 : 개발1팀의 AWS Personalize 도전기)

개인(고객)에게 맞는 상품을 추천하는 데 있어 데이터 수집은 무",Infra Structure
https://surfit.io/link/5lBJ2,Docker Buildx로 Multi-Archtecture Image 빌드하기,"뭘 하려고 했나?
최근 구글 클라우드 프로젝트에 쿠버네티스 클러스터를 생성했다가 과금 폭탄을 맞고 나서,금전적 비용없이 멀티 노드 클러스터를 실습할 수 있는 환경을 구성하기 위해집에서 놀고있는 네 대의 개발 보드 ordroid-xu4 활용해보기로 했습니다.
뭐가 안되었나?
Docker를 세팅하는 과정에서 문제가 있었습니다. Docker를 설치하고 테스트하기",Infra Structure
https://surfit.io/link/31AJW,캐시 성능 향상기 (Improving Cache Speed at Scale),"안녕하세요! 데이터운영팀 김가림입니다.🙇🏻‍♀️ 올해 레디스 컨퍼런스는 코로나로 인해 온라인으로 진행되었습니다. 오늘은 그 중 제가 가장 흥미롭게 들었던 세션의 내용을 공유해보려고 합니다. 원 제목은 Improving Cache Speed at Scale 이며, 세션 영상은 유튜브에서 확인하실 수 있습니다.
Cache Stampede
레디스를 캐시로 사용할",Infra Structure
https://surfit.io/link/KQyvg,"이메일 보안 강화 기능 소개 - 도메인 보호, DKIM, DMARC","지난 글 '이메일 보안 강화 기능 소개 - SPF'에 이어 이번 글은 자기가 소유한 메일 도메인을 보호하는 메일 도메인 보호 기능과 이메일 인증 방법인 DKIM(DomainKeys Identified Mail), DMARC(Domain-based Message Authentication, Reporting and Conformance)에 대해 설명합니다.
",Infra Structure
https://surfit.io/link/KvqEZ,고 처리량 분산 비율 제한기,"보통 프로덕션 등급의 시스템은 서로 의존하는 여러 개의 컴포넌트로 구성됩니다. 최근 몇 년간 마이크로 서비스 아키텍처가 대중화되면서 컴포넌트의 수가 증가했고, 그에 따라 각 컴포넌트 사이의 연결 수도 증가했는데요. 이때 각 컴포넌트에 과부하가 걸리지 않도록 보호하면서 전체 시스템의 서비스 품질을 보장하기 위해 ‘비율 제한기(rate limiter)’를 사용",Infra Structure
https://surfit.io/link/37pBl,간단하게 만드는 이상한 알람,"오늘은 간단한 이상점 탐지를 이야기 하려고 합니다.
장애 사례를 한가지 들어볼께요.
오전 8시 서버 배포 이후 DB의 CPU 사용률이 전일 대비 10% 정도 높아졌습니다.[3일간의 CPU 사용률 패턴]
아침에는 서비스 트래픽이 적어 평소보다 CPU 사용률이 약간 높은 상태로만 유지되어 알람 임계치인 50%, 70%에 도달하지 않았습니다.
그래서 특이점을 인",Infra Structure
https://surfit.io/link/3NPdv,검색 영역 탐색을 위한 인덱싱 플랫폼의 변천사,"-

검색은 고객이 쿠팡에서의 여정을 시작하는 주요 통로다. 검색 경험은 고객이 ‘쿠팡 없이 어떻게 살았을까?’ 라고 묻는 세상을 만들기 위해, 쿠팡이 달성해야 하는 미션의 핵심이다. 쿠팡 검색엔진의 목표는 고객 검색 키워드를 기반으로 최고의 프로덕트(연관상품, 랭킹, 상품평, 가격, 브랜드)를 제공하는 것이다. 관련성(relevancy)이 가장 중요한 구",Infra Structure
https://surfit.io/link/K2OyD,Prometheus + Grafana로  Java 애플리케이션 모니터링하기,"목차
요약
모니터링 환경 구축Prometheus
Grafana

Java MetricsWith Spring Boot ActuatorMicrometer

With JMX Exporter

Grafana + Prometheus + Spring Boot 연동
부록
요약
Spring Boot Actuator + Micrometer Registry
spring bo",Infra Structure
https://surfit.io/link/3NWjl,AWS Chatbot으로 손쉬운 리소스 관리?!!,"필자는 Amazon CloudWatch의 고유 기능만 사용하여 대시보드를 생성하여 프로젝트 모니터링을 진행해왔습니다. 하지만 점점 늘어나는 프로젝트마다 대시보드를 세팅하고 수시로 모니터링하는 것에 한계를 느끼게 되어, AWS SNS를 연결하여 Slack으로 알림을 받도록 모니터링 방법을 개선했습니다. (이제 스스로 대시보드를 들어가지 않아도 잠잘 때나 쉬고",Infra Structure
https://surfit.io/link/w6GAE,Kubernetes로 클러스터 외부 자원 관리하기,"안녕하세요. 저는 LINE에서 LINE 개발자를 위한 서비스, Pipeline을 개발하고 있습니다. Pipeline은 테스트부터 서비스 배포까지 가능한, Kubernetes 기반 워크플로(workflow) 서비스입니다. 사용자가 코드를 검증하기 위한 테스트나 코드를 배포하기 위한 빌드 또는 주기적으로 작업을 실행하기 위한 크론(cron) 작업과 같이 실행하",Infra Structure
https://surfit.io/link/501QG,AWS 멀티 계정 환경에서 취약한 Security Group 설정 모니터링,"들어가며
클라우드 서비스의 장점은 리소스의 탄력적 사용, 비용 절감, 운영에 대한 부담 감소에 있다. 하지만 보안 관점에서는 이러한 클라우드 서비스의 장점이 취약점으로 작용한다. 클라우드 환경에서는 개발자가 직접 리소스를 관리할 수도 있다. 이는 편하고 빠르게 개발할 수 있다는 장점이 되지만, 반대로 보안을 챙기는 사람 입장에서는 시시각각 변화하는 리소스를",Infra Structure
https://surfit.io/link/5012E,추천 시스템 맛보기 - AWS SageMaker를 중심으로,"지난 10월, 브랜디 랩스에 ‘개발 1팀의 AWS Personalize 도전기’ 를 게재하면서 하나의 미션을 받았습니다. 바로 AWS SageMaker(이하 SageMaker)를 이용해 추천 알고리즘을 다뤄보는 것이었는데요. 데이터베이스를 모르면 AWS RDS를 사용하기 어렵듯이, 머신러닝에 대해 모르는 상태에서는 SageMaker를 다루기가 매우 어려웠습",Infra Structure
https://surfit.io/link/59j9B,Docker image에 php composer 설치,"회사에서 PHP를 사용하다보니 composer를 사용하는 일이 많아졌다.
설치하는 방법들이 찾는데마다 달라서 우선 찾은 것들을 정리해서 둔다.
shell를 이용하는 방법은 이전 composer의 기본 설치방식이었던걸로 기억하고, 많은 사람들이 이렇게 설치하도록 알려준다.
PHP 인터프리터를 이용해서 설치하는 방법은 composer 공식 페이지에 적혀있는 방",Infra Structure
https://surfit.io/link/5lO7z,[AWS] 서버리스를 위한 RDS Proxy서비스,"RDS Proxy 2019년 12월 3일에 발표된 신규 AWS 서비스입니다. RDS Proxy란 관계형 데이터베이스에서 커넥션(Connection) 연결을 효율적으로 관리해주는 서비스입니다. 일반적으로 AWS Lambda 서비스를 사용한다면 DynamoDB와 같은 API 기반의 데이터베이스를 많이 사용할 수밖에 없습니다.

서버리스 컴퓨팅에서 유휴 상태로 ",Infra Structure
https://surfit.io/link/3NA6g,데이터 기반으로 지속적인 CI/CD 개선 환경 만들기,"들어가며 



지난 1993년에 개봉했던 사랑의 블랙홀이라는 영화를 기억하시나요? 남자 주인공이 2월 2일 성촉절(Groundhog Day, 미국에서 마멋이 겨울잠에서 깨어난다고 여기는 날) 하루를 끊임없이 반복해서 살게 되면서, 사랑을 얻기 위해 매일매일 좀 더 완벽한 사람으로 변해가는 로맨틱 코미디 영화입니다. 빌 머레이(Bill Murray)가 연기",Infra Structure
https://surfit.io/link/wnDV7,"프로비저닝 자동화를 위한 Ansible AWX, 설치부터 엔터프라이즈 환경 적용까지 - 2","이번 글에서는 고급 사용자를 위한 내용을 소개하려고 합니다. 1부에서 기본 설치를 해보셨나요? 크게 어렵지 않게 설치할 수 있었을 거라고 생각합니다. 문제는 기업 환경에서 실제 운영하기 위해서는 장애 발생에 대한 대비와 대량의 작업을 수행하기 위한 클러스터링 환경 등을 제공해야 하는데 아시다시피 이러한 부분에 대해서는 정보가 많지 않습니다.



개인적으로",Infra Structure
https://surfit.io/link/594dq,"프로비저닝 자동화를 위한 Ansible AWX, 설치부터 엔터프라이즈 환경 적용까지 - 1","기업에서는 시스템을 운영하고 관리하기 위해 내부적으로 정의한 기술, 서비스 영역에 대해서 여러 정책과 기술 표준을 준비해 놓습니다. 이러한 정책을 인프라 환경(OS, 앱 설치, 튜닝 등)이나 개발 환경(코드 배포, 테스트 도구, 애플리케이션 설치 등)에 실질적으로 적용하기 위한 활동을 뭉뚱그려 프로비저닝(provisioning)이라고 표현하겠습니다. 프로비",Infra Structure
https://surfit.io/link/3jy0R,LINE에서 Kafka를 사용하는 방법 - 1편,"안녕하세요. LINE에서 소프트웨어 엔지니어로 일하고 있는 Kawamura Yuto입니다. 저는 LINE 서버 개발을 중심으로 HBase 운영 등의 업무를 하고 있으며, 현재 전사적으로 Kafka 플랫폼을 제공하는 팀의 리더를 맡고 있습니다. 이번 글에선 LINE에서 운영하고 있는 대규모 Kafka 플랫폼에 대해서 말씀드리려고 합니다.



Kafka라는 ",Infra Structure
https://surfit.io/link/wDzB9,Cloudflare 도입 후기,"리디에서는 2014년부터 Cloudflare를 사용해오고 있습니다.

Cloudflare는 주로 CDN 업체로 알려져 있습니다. 리디를 포함한 국내의 많은 서비스들은 Amazon Web Services(이하 AWS) 상에 구축되는 추세이고 AWS에서는 CloudFront라는 CDN을 제공하고 있기 때문에, 굳이 왜 별도의 CDN을 사용하느냐는 질문을 주시곤",Infra Structure
https://surfit.io/link/woOOp,"kubernetes POC를 위한 portainer, rancher 소개 및 설치","docker와 kubernetes(이하 k8s)를 간단하게 활용해 보기 위한 portainer와 rancher를 소개합니다. 

docker / k8s에 대해 기초를 아시는 분 
docker / k8s를 이용한 P.O.C. 를 위해, docker / k8s를 간단하게 구성해보고 싶으신 분 
docker / k8s를 클러스터로 구축하여 사용해보고 싶으신 분
",Infra Structure
https://surfit.io/link/wJWRB,개발1팀의 AWS Personalize 도전기,"요즘 서비스들을 이용하면 사용자 개인에 초점을 맞춘 ‘개인화&amp;추천’ 기술을 흔히 접할 수 있습니다. 단순히 인기 콘텐츠를 추천해주는 것 보다 개인의 취향 및 성향을 기반으로 콘텐츠를 추천해주었을 때 소비자의 만족도가 높다는 것은 이미 많은 연구 결과를 통해 검증되었습니다.

하지만 기계 학습을 바탕으로 개인화&amp;추천 기술을 개발한다는 것은 대부",Infra Structure
https://surfit.io/link/3GZ0M,AWS EC2 + GOST를 사용하여 쉽게 Foward Proxy 서버 만들기,"어째서일까요, 저희집 인터넷망에서는 Apollo GraphQL 사이트가 접속이 되지 않습니다. 유플x스 인터넷 으으..

아주 다행이도, 집에서 AWS는 접속이 되더라구요. 그래서 간단하게 프록시 서버를 만들어보기로 했습니다. 보통 인터넷에 프록시(Proxy)를 검색하면
Reverse Proxy에 대해서 많이 나옵니다. Forward Proxy와 Rever",Infra Structure
https://surfit.io/link/3O0vb,Zombie 프로세스를 좀처럼 볼 수 없는 이유?,"새로운 프로세스를 만들 때 리눅스에서는 fork()를 사용합니다.fork()를 통해서 부모 프로세스는 자식 프로세스를 생성하고,자식 프로세스에서 실제 실행하려는 프로그램을 exec()을 통해서 실행합니다.
자식 프로세스가 exit()를 호출하고 죽으면, 부모 프로세스는 waitpid()를 명시적으로 호출해서,이 자식 프로세스의 exit 값을 가져가야 합니다",Infra Structure
https://surfit.io/link/3qX4Y,웹 개발자의 Travis CI 기반 Flutter 앱 지속적 빌드 및 배포 환경 구축기,"Flutter로 앱 생태계에 처음 발을 담근 웹 개발자가 Travis CI를 이용한 iOS, Android 두 플랫폼의 빌드 및 배포 자동화를 위해 고군분투한 기록.
얼마 전, 구글의 크로스 플랫폼 UI 프레임워크 Flutter를 사용해 인생 첫 앱을 만들어 배포했다.  앱 개발에 대한 지식은 전무하다시피 했지만, Flutter 덕에 생각보다 짧은 시간 안",Infra Structure
https://surfit.io/link/KEObe,대규모 Kubernetes 클러스터 구축기,"들어가며



LINE에서는 개발자가 개발에만 집중할 수 있도록 개발 외의 인프라 관련 업무를 대신 수행해 주는 Kubernetes 기반 서비스 Nucleo를 자체 개발하여 LINE 내부용으로 사용하고 있습니다. Nucleo에는 현재 800여 개의 앱이 약 4,000개의 pod로 서비스되고 있는데요. 앱의 개수는 계속 빠르게 증가하고 있습니다. 모든 워크로",Infra Structure
https://surfit.io/link/Kvr8l,아파치 로드밸런싱으로 여러 WAS 운영하기,웹서버 하나만 사용하거나 WAS 하나만을 사용하며 웹서비스를 운영하는 경우는 극히 드물다. 웹서버의 장점과 WAS의 장점 그 두마리의 토끼를 다 잡기 위해 보통 앞단에 웹서버를 두고 그 뒤에 WAS를 두며 서비스를 운영하곤 한다. 헌데 운영하는 서비스가 인기가 많아져(?) 사용량이 많아지다면 그만큼 응답이 느려 (TPS 등) 서버를 늘려야 하는 상황이 생긴,Infra Structure
https://surfit.io/link/wWVdO,Docker 기반 분산 트랜스코더 개발,"VOD(video on demand, 주문형 비디오) 서비스는 다양한 사용자 환경에서 일관된 품질로 영상이 재생될 수 있도록 콘텐츠를 준비해야 합니다. 서비스에 업로드된 원본 영상은 트랜스코딩 과정을 거쳐 원본 영상과 내용은 동일하지만 VOD에 적합하도록 컨테이너 포맷, 해상도, 코덱, 비트레이트 등이 변경된 새로운 영상으로 만들어집니다.

현재 네이버에서",Infra Structure
https://surfit.io/link/w649q,AWS Lambda@edge로 실시간 이미지 리사이징,"Lambda@Edge는 Amazon CloudFront의 기능 중 하나로서, 서버를 프로비저닝하고, 코드(Node.js)를 AWS Lambda에 업로드하고 요청에 대한 응답으로 함수가 사용자에게 좀 더 가까운 위치(리전)에서 트리거 되도록 구성할 수 있습니다.Lambda@Edge를 이용해 다음과 같이 쿼리스트링을 옵션으로 요청에 따라 실시간으로 이미지의 크",Infra Structure
https://surfit.io/link/KQ87o,Docker Image 옮기기 (without DockerHub),"외부로 나가서는 안되는 Docker 이미지를 만들게 되었다. 그러다보니 Docker Hub를 사용하거나 AWS ECR을 사용하는건 제외.
개발 과정에서 실제 OS에서 작동하는지 확인을 위한것이라 올리고 인증하고 귀찮다.
뭘로 검색했는지는 기억이 없지만 다음과 같은 글을 확인했고, 다음과 같은 명령을 사용하면 인터넷이나 Docker 레포없이 작업이 가능하다.",Infra Structure
https://surfit.io/link/3qVgD,Spring Boot에서 Repository로 DynamoDB 조작하기 (2) - Gradle을 활용해 실행 & 테스팅 환경 구축,"애플리케이션을 실행하거나 테스트하기 위해 docker로 DynamoDB를 띄우는 것이 번거로우니, 이번에는 Gradle을 활용해 실행 및 테스팅 환경 셋팅을 자동화 하겠습니다. https://github.com/myeongjae-kim/guestbook/tree/complete-first-chapter 이 브랜치는 1부를 끝낸 상태의 스냅샷입니다. 여기서부",Infra Structure
https://surfit.io/link/3B84O,Safe Deploy - 안전하게 L4 에서 제외하는 방법,"목차
L4 스위치에서 서비스 health check 하는 방법Port health check 방식
L7 health check 방식

L4 스위치에서 서비스가 제외시키기L4 스위치에서 서비스 제외시키기
유저 인입 확인

종합 - 안전하게 서비스 내리기예제 스크립트 - L7 health check up/down

결론
L4 스위치에서 서비스 health ch",Infra Structure
https://surfit.io/link/50A84,PM2를 활용한 Node.js 무중단 서비스하기,"이 글은 마이크로소프트웨어 393호에 기고된 글입니다.




자바스크립트는 가장 널리 사용되는 클라이언트 측 프로그래밍 언어이자 프론트엔드 웹 개발 언어 중 하나입니다. 그리고 Node.js는 Chrome의 V8 자바스크립트 엔진으로 빌드된 자바스크립트 런타임(runtime)으로 ‘Event Driven’, ‘Non-Blocking I/O’ 모델을 사용해",Infra Structure
https://surfit.io/link/9RBX7,AWS Lambda를 백엔드 API로 이용 시주의해야할 점!,"AWS Lambda는 Amazon Web Services에서 제공하는 서비리스 컴퓨팅 서비스입니다. 별도의 서버 설정 없이도 코드를 바로 실행하여 결과를 확인할 수 있습니다.AWS Lambda의 장점으로 크게 오토스케일링, 경제적인 비용, 인프라 관리의 용이성 이 3가지를 말할 수 있습니다.오토스케일링내부적으로 스케일 인/아웃이 빠르게 일어나기 때문에 급작",Infra Structure
https://surfit.io/link/xrxn2,프로젝트 CI/CD 개선,"소스 수정이 필요할때 새 브랜치를 생성하여 코드를 수정합니다.  개발이 끝나면 마스터로 MR요청을 보냅니다. 코드검토자는 검토하고 팀장님께 검토완료 보고를 합니다. 운영 배포 승인이 되면 운영 서버 배포 프로젝트에서 다시 소스 프로젝트를 빌드 후 배포를 하게 됩니다.



개선 방식

소스 프로젝트만 유지
    gitlab의 경우 소스 프로젝트 CI/CD",Infra Structure
https://surfit.io/link/oznVM,모두의 Github Actions (feat. Github Enterprise) 3편 - Build Cache,"지난 글에서는 Github Actions를 이용하며 번거롭지 않고 안전하게 Secret에 접근하는 방법에 대해 다루었습니다. 핵심은 Vault Login을 Actions Runner에서 잘 할 수 있도록 구성하고, 나머지는 Vault에 맡기는 것이었습니다.

이번 글에서는 Github Enterprise 위에서 Github Actions를 사용하며 지원되지",Infra Structure
https://surfit.io/link/qyXdV,엘라스틱 서치의 update_by_query의 기능,"Elasticsearch는 이미 색인된 문서에 대해서는 사전에 관련 단어를 업데이트 하더라도 적용이 되지 않았습니다.

따라서, 이를 해결하기 위해서는 아래의 방법들을 사용해야 합니다.

1) 새 인덱스를 만들어 색인
  2) reindex
  3) update_by_query
update_by_query를 사용하여 사전 업데이트를 진행하는 방법과, upd",Infra Structure
https://surfit.io/link/kqlJX,Prometheus란?,"Prometheus는 SoundCloud사에서 만든 오픈소스 시스템 모니터링 및 경고 툴킷이다.
지금은 독립형 오픈소스 프로젝트이며 많은 회사들이 사용 하고 있고, 또한 kubernetes에서도 Prometheus를 사용하여 매트릭 수집 및 대시보드 구축하는 방식을 장려하고 있다.
Prometheus 설치 방법간단하게 Docker를 사용하여 Promethe",Infra Structure
https://surfit.io/link/kqQ26,모두의 Github Actions 1편 - 모두가 쓸 수 있는 패턴 만들기,"Github Actions는 Github Repository와 연동되어 소프트웨어 빌드, 테스트, 그리고 배포까지 자동화 할 수 있는 강력한 CI/CD 도구입니다. Github 의 다양한 이벤트를 간단한 YAML 문법을 통해 트리거로서 사용할 수 있으며, Workflow 또한 개발자가 간단하게 YAML 문법을 통해 구성할 수 있고, 자주 사용되는 패턴은 A",Infra Structure
https://surfit.io/link/Q68re,EKS에서 EFS 사용하기,"가용 영역 하나의 접근만을 지원하는 EBS를 사용 중이었으나 새로 시작하는 프로젝트는 여러 가용 영역에서 볼륨의 접근이 필요하였습니다. 
EBS는 단일 가용 영역에서만 접근이 가능하여 여러 가용 영역의 사용이 불가능합니다. 그래서 여러 가용 영역에서 접근이 가능한 EFS의 사용이 필요했습니다.

EBS와 EFS의 차이점

 
      EBS
      E",Infra Structure
https://surfit.io/link/3X9Rb,"Shell 없는 Container, Live 환경에서 Debugging해보기!","필요한 디버그 도구가 없거나, 심지어는 shell이 존재하지 않는 Kubernetes 위의 container를 현재 상태 그대로 디버깅하기 위해 open-source 도구인 kubectl-debug[1]를 사용한 경험을 공유합니다. 또한, Hyperconnect에서 운영하는 대부분의 Kubernetes node는 Bottlerocket[2]이라는 Linux",Infra Structure
https://surfit.io/link/3qEo1,매드업 네트워크의 AWS 비용 줄이기,"S3로 데이터를 딜리버리하여 운영에 이상은 없었지만 한가지 문제가 발생하였는데,
바로 람다 비용이 과도하게 발생한다는 것입니다.

람다는 메모리에 따라 다르지만 요청과 요청 시간에 의해 비용이 측정됩니다.
매드업 네트워크에서는 월 33억 건의 람다 호출을 하고 있었고
약 $6,000의 비용이 발생되었습니다.

결론부터 말씀드리면,
Batch size와 Ba",Infra Structure
https://surfit.io/link/KROqG,DevOps팀의 Terraform 모험,"서비스가 꾸준히 증가하게 되면서 Stage 환경과 QA환경이 너무 비대해지고 단순한 반복 작업이 대폭 증가하게 되었습니다.

따라서 인프라 및 CI/CD를 구성할 때 복잡도가 증가하여 반복 작업을 하는 상황이 자주 발생 하였고 때때로 작은 실수를 하는 일도 있었습니다.

우리는 이러한 문제를 완화하기 위해 Stage 및 QA 환경에 먼저 Terraform ",Infra Structure
https://surfit.io/link/3jQdJ,코인 결제기능 MSA 이관 회고,"Legacy 결제 시스템을 Monolithic 구조에서 MSA 체제로 넘기면서 생겼던 일에 대해 스토리텔링 식으로 얘기하고자 합니다.
Legacy Architecture우선 콴다 앱에서 코인을 구매하기 위해서는 Membership Webpage라고 이름지어진 InApp Browser를 열고, 여기서 APP Native API로 구매를 한 뒤 상품 지급 요청",Infra Structure
https://surfit.io/link/w6WMM,Node.js 프로덕션 환경을 위한 Best Practice 모음,"Node.js 애플리케이션을 프로덕션 환경에서 서비스하기 위한 모범 사례(Best Practice) 컬렉션에 오신 것을 환영합니다. 

모니터링은 고객이 발견하기 전에 먼저 문제를 찾아내는 게임입니다. 이것은 엄청나게 중요합니다. 요 근래 모니터링 업계는 압도적으로 많은 기능들을 제공하고 있으며, 이는 선택을 하는데 어려움을 주는 요인이 됩니다. 그러므로 ",Infra Structure
https://surfit.io/link/wmDeP,Docker Compose로 Nodejs 개발/배포환경 구성하기 - Dockerfile,"NodeJS와 같은 스크립트 언어에서는 개발환경을 구성하고, 이를 팀으로 확대하는데 많은 어려움이 있는데요. 일반적으로는 다음과 같은 문제점들이 있습니다.
로컬 PC의 Node버전을 매번 프로젝트 환경에 맞춰 변경해야한다.
때때로 패키지 설치가 막힌다.
로컬 컴퓨터에 이미 존재하는 환경과 꼬였다.
막상 배포를 했더니 개발 환경과 서버 환경이 같지 않아서 문",Infra Structure
https://surfit.io/link/Kve62,"CloudWatch 이상 지표를 슬랙 알람으로 받기 (feat. SNS, Lambda)","AWS 서비스를 이용하면 CloudWatch를 통해 서비스의 이상 지표를 손쉽게 확인할 수 있습니다. 이를테면 다음과 같은 경우인데요.
평소보다 로드밸런서로 들어오는 요청양이 2배이상 높다거나
RDS의 CPU가 60%이상이 된다거나
RDS에 사용중인 Connection이 갑자기 줄어든다거나
등등의 경우입니다. 이때 별도의 알람을 붙여놓지 않는다면 서비스가 ",Infra Structure
https://surfit.io/link/3xO9j,System Monitoring 서비스의 Advanced Monitoring(OpenMetrics) 기능 소개,"다양한 오픈소스 설루션에서 발생하는 지표들을 모아서 모니터링하기 위해 가장 널리 사용되고 있는 것이 Prometheus라는 오픈소스 설루션입니다. Prometheus의 지표 포맷에 기반하여 만들어진 사실상의 표준 포맷이 OpenMetrics입니다. 
클라우드 환경의 복잡한 시스템과 서비스에서 발생하는 다양한 지표들을 하나의 표준 포맷으로 통일하고 동일한 지",Infra Structure
https://surfit.io/link/Krz0G,AWS CLI로 Fargate ECS Service를 띄우고 Service discovery로 통신하기,"이 문서는 Amazon Elastic Container Service(ECS)에 Docker 이미지를 올려 서비스를 구동하는 절차를 담은 튜토리얼입니다. 서버 두 개를 각각의 서비스에 띄워 AWS Service Discovery를 이용해 통신합니다. ECS의 구동 방식으로는 Fargate를 이용합니다.




AWS의 각종 기능을 terminal에서 명령어",Infra Structure
https://surfit.io/link/3qv9V,AWS Elasticsearch + Python을  활용한 '검색' 도전기,"상품관리를 하는데 점점 상품수가 증가함에 따라 RDBMS + DynamoDB + Cache 만으론 상품검색시 성능 이슈가 있어 관계형 데이터베이스(RDBMS: mysql, oracle, mariadb)를 대신하여 검색엔진 Elasticsearch를 이용하면 좋을 것 같아 이번 글에서 상품관리 개선을 위한 AWS Elasticsearch Service 설정 ",Infra Structure
https://surfit.io/link/KPqgx,KafkaConsumer Client Internals,"Apache Kafka는 Distributed Event Streaming Platform으로, 성능이 뛰어나고 원하는 기간만큼 안정적으로 데이터를 저장합니다. 또한 모든 기능이 분산되어 있어 확장성과 내결함성(fault tolerance)이 뛰어납니다. 이러한 특징 덕분에 Kafka는 기존 메시징 시스템(Active MQ, Rabbit MQ)을 대체하기도",Infra Structure
https://surfit.io/link/3MEvz,상품 피드 1차 개선 — Python 에서 Java 로!,"29CM 은 monolithic 구조를 MSA(Microservice Architecture) 로 전환하면서 개발 언어도 Java 로 전환하자는 결정을 하였습니다. 그래서 신규 서비스의 경우 Java + Spring 조합으로 구현하자는 원칙이 있었습니다. 이에 따라 개발자가 수기 처리하고 있던 부분을 어드민을 통해 관리할 수 있게 하고, 정확한 상품 계산을",Infra Structure
https://surfit.io/link/wm1VZ,디지털 트랜스포메이션과 시스템 마이그레이션,"우선 현재 운용중인 레거시 유닉스 시스템은 곧바로 클라우드로 이전하기 어렵다. 일단 리눅스 기반 시스템으로 마이그레이션 한 이후 다시 클라우드로 이전해야 한다. 이처럼 2단계를 거치면서 자산파악, 분석, 마이그레이션, 테스트, 인증 등을 진행해야 하기 때문에 다양한 문제가 불거진다. 현황 파악단계에서는 나타나지 않았던 연관시스템이 등장하기도 하고, 존재하는",Infra Structure
https://surfit.io/link/wJvBB,CDK for Kubernetes(CDK8s) 사용하기,"Kubernetes를 사용하게 되면 매니페스트를 YAML로 작성해야 한다. 직접 YAML을 작성할 수도 있지만, 배포를 위해 컨테이너 이미지 태그도 업데이트해야 하고 상황에 따라 다른 매니페스트를 만들 수 있어야 관리하기 편하므로 보통 Helm, Kustomize, Cue등을 사용해서 YAML을 생성하곤 한다. 이러한 툴도 각자의 특성이 있지만 많은 상황에",Infra Structure
https://surfit.io/link/wWOYy,aws-vault로 AWS의 인증 정보 안전하게 사용하기,"aws-vault는 99디자인스에서 개발한 AWS 인증 정보를 안전하게 보관하도록 도와주는 도구입니다. AWS CLI나 관련 도구를 로컬에서 사용하는 경우 IAM 사용자의 액세스키AWS Access Key ID와 비밀 키AWS Secret Access Key가 필요합니다.
AWS CLI의 경우 ~/.aws/credentials에 저장된 정보나 AWS_ACC",Infra Structure
https://surfit.io/link/3NMdo,"AWS 라우트53, 다른 계정으로 호스팅 영역 DNS 레코드 이전하기","라우트53에서는 도메인 뿐만아니라, 도메인에 연결된 DNS를 관리하는 호스팅 영역(Hosted Zone)이 별도로 존재합니다. 도메인과 호스팅 영역을 함께 관리하는 경우 도메인을 이전하더라도 호스팅 영역은 자동으로 이전되지 않습니다. 따라서 호스팅 영역도 이전하고자 하는 경우 별도의 작업이 필요합니다.
라우트53 호스팅 영역을 이전하는 방법에 대해서는 공식",Infra Structure
https://surfit.io/link/woM61,OpenVPN을 이용해 사설망 접근하기,AWS와 같은 퍼블릭 클라우드 환경을 사용하다 보면 가끔 온프레미스 환경에서의 편안함(?)이 그리워질 때가 있습니다. 특히 온프레미스 환경에서는 사무실과 IDC 간에 네트워크가 연결되어 있기 때문에 사설망이라고 해도 큰 어려움 없이 접근할 수 있습니다. 하지만 퍼블릭 클라우드의 경우 사설망에 직접 접근하기 위해서는 AWS Client VPN이나 Site-t,Infra Structure
https://surfit.io/link/509Wn,Docker Compose와 버전별 특징,"많은 곳에서 Docker Compose를 검색한다면 다음과 같은 설명을 많이 접할 수 있습니다. 

Docker Compose는 다중 컨테이너 애플리케이션을 정의 공유할 수 있도록 개발된 도구로단일 명령을 사용하여 모두 실행 또는 종료할 수 있도록 개발된 도구 

위 말을 이해하기 쉽게 풀어서 정리해 보겠습니다. 
다중 컨테이너 애플리케이션을 정의
우리는 ",Infra Structure
https://surfit.io/link/3qAxB,AWS 람다 초기 응답 속도 개선하기,"AWS 서버리스는 람다를 중심으로 구성한다.
대쉬보드에서 코드 수정만으로 서버에 변경사항을 즉시 반영하는 편리함과 급격한 트래픽을 감당할 수 있는 안정성이 특징이다. 이러한 장점을 갖는 이면에는 '콜드 스타트'라는 구조적 문제도 가지고 있다.

자동차에 관심이 있다면 콜드 스타트라는 용어는 익숙하다.
보통 추운 겨울날 열쇄를 꼽아 시동을 걸면 스타터 모터 ",Infra Structure
https://surfit.io/link/KPGnM,Pull Requests를 Merge 하면 자동으로 배포하기,"하이퍼커넥트에는 마이크로서비스를 몇 번의 클릭만으로 배포할 수 있는, Spinnaker 기반의 배포 파이프라인이 구축되어 있습니다.
다만 개발팀마다 원하는 배포 전략이 다르기 때문에, 배포를 트리거하는 부분은 개발팀에서 정할 수 있게 되어 있습니다. 
저희 팀에서는 개발자가 수동으로 Spinnaker로 접속해서 배포를 진행하고 있었습니다.

코드 Merge",Infra Structure
https://surfit.io/link/wDL29,Serverless 환경에서 수행시간이 긴 작업 처리하기,"현재 브랜디 풀필먼트시스템의 기본적인 API는 모두 Serverless로 구축되어 있습니다.

그동안 브랜디의 모든 헬피셀러를 풀필먼트시스템에 적재하여 운영하면서 대용량 데이터를

Serverless 환경에서 운영할 수 있도록 고도화 한 작업들에 대해 이야기 해보고자 합니다.

익숙한 아키텍처의 함정

초기 풀필먼트 서비스의 API는 일반적으로 사용하는 아",Infra Structure
https://surfit.io/link/wdx0P,aws 에서 클라우드의 보안을 위한 7 가지 설계원칙,"설계 원칙
클라우드의 보안을 위한 7 가지 설계 원칙이 있습니다.

• 강력한 자격 증명 기반 구현 : 최소 권한 원칙을 구현하고 AWS 리소스와의 각 상호 작용에 대해 적절한 권한을 부여하여 업무 분리를 시행합니다. ID 관리를 중앙 집중화하고 장기적인 정적 자격 증명에 대한 의존성을 제거하는 것을 목표로합니다.



• 추적 기능 활성화 : 실시간으로 ",Infra Structure
https://surfit.io/link/3GvWk,"AWS Systems Manager, SSH 없이 프라이빗 서브넷에 위치한 EC2 콘솔에 로그인하기","Amazon EC2 인스턴스 콘솔에 로그인하려면 해당 인스턴스가 퍼블릭 IP를 가지고, 보안 정책에 의해 SSH 연결이 허용되어야 하며, SSH Key 키페어 파일을 소유해야 한다. 보안을 위해 1개의 Bastion 퍼블릭 호스트를 두고 프라이빗 서브넷에 위치한 n개의 인스턴스에 로그인하는 방법도 있지만 본질적인 절차는 동일하다. AWS Systems Ma",Infra Structure
https://surfit.io/link/KvyQ8,"Prometheus, 오픈 소스 시계열 데이터베이스 Amazon ECS에 설치하기","Prometheus는 기본적으로 원격 연결이 가능한 시계열 데이터베이스이다. Prometheus의 진정한 강점은 원격지에 위치한 다수의 서버에 대해 모니터링 관련 시계열 데이터를 수집하여 적재하고, 시각화 기능을 제공하는데 있다. 탄생 배경과 쓰임새 모두 서버 인스턴스 모니터링에 최적화되어 있다. 일반적으로 단독 사용보다는 대시보드 시각화 기능이 우수한 G",Infra Structure
https://surfit.io/link/KpNxY,"Grafana, 오픈 소스 인프라 모니터링 솔루션 Amazon ECS에 설치하기","Grafana는 매우 다양한 데이터 소스(MySQL, Elasticseach 등)로부터 잘 준비되고 일관된 방식의 시계열 그래프를 만들어낼 수 있는 대표적인 오픈 소스 기반의 대시보드 솔루션이다. 가로축의 시계열 데이터를 핵심으로 하여, 인스턴스 또는 애플리케이션의 모니터링 및 알람에 최적화된 기능을 제공하여 널리 쓰이고 있다. 이번 글에서는 ECS에 Gr",Infra Structure
https://surfit.io/link/wDpb7,CloudWatch를 이용한 RDS (PostgreSQL) 스케줄링 시작/종료,"운영되는 환경 (live, production, real 등) 외에, 테스트 용도로 사용되는 환경(dev, qa)은 꼭 24시간 무중단으로 서비스를 할 필요가 없습니다. 그래서 실제 업무시간을 제외하고는 해당 서비스를 종료하여 비용을 절감할 필요가 있습니다. (굳이 사용하지 않는 시간대에 비용을 낭비할 필요는 없겠죠?)
그래서 이번 시간의 목표는 다음과 같",Infra Structure
https://surfit.io/link/3xoRP,Sentry로 사내 에러 로그 수집 시스템 구축하기,"이번 글에서는 Sentry 온 프레미스(On-Premise) 구축기를 공유하겠습니다. LINE에서 왜 Sentry를 사용하게 됐는지 먼저 말씀드리고 클라우드 대신 온 프레미스 방식으로 구축하게 된 이유를 설명한 뒤 마지막으로 어떻게 구축했는지 말씀드리겠습니다.







기존 에러 로그 수집 플랫폼의 문제점



기존에 사용하던 에러 로그 수집 플랫폼은 ",Infra Structure
https://surfit.io/link/w8plo,AWS Batch 시작하기,"구글이나 페이스북 등의 매체를 통해 쇼핑몰 광고를 할 경우 해당 매체에 쇼핑몰 상품 목록의 정해진 양식을 넘겨 주어야
효율적인 광고를 할 수 있습니다. 그 양식을 보통 카탈로그 피드(Catalog Feed)라고 부릅니다. 상품 정보, 즉 카탈로그의 양식은 각 쇼핑몰마다 다르기 때문에 광고 매체가 원하는 양식으로 변경을 해주어야 합니다.

단순 배치성 작업이",Infra Structure
https://surfit.io/link/5emoZ,Amazon Athena를 통해 ‘데일리 광고 성과 리포트’ 자동화하기,"앞선 애드테크에 대한 포스팅에서 알 수 있듯이, 애드테크의 근간은 ‘데이터’입니다. 때문에 애드테크 회사인 매드업은 현재 여러가지 광고 매체의 광고 성과 데이터를 수집하고 있습니다. 
​
이러한 데이터는 시시때때로 광고 운영 인사이트를 도출하기 위한 ‘애드혹 분석(Ad-hoc Analysis)’에도 활용되기도 하고, 스태틱하고 정기적으로 진행되는 ‘광고 성",Infra Structure
https://surfit.io/link/Kv7l2,LINE 오픈챗 서버 원클릭 릴리스 자동화 시스템 개발기,"저희 팀에서는 릴리스를 자동화하기 위해 그동안 많은 노력들을 해왔고 그 결과 클릭 한 번으로 전체 릴리스를 수행할 수 있게 되었습니다. 이번 세션에서는 그 과정에서 저희가 고민했던 부분들과 자동화를 통해 무엇을 얻었는지 공유하려고 합니다.



먼저 오픈챗 서버의 릴리스 방식을 소개하고 기존 프로세스의 문제점과 자동화를 통해 이루고자 했던 목표를 설명하겠습",Infra Structure
https://surfit.io/link/Krez2,AWS S3를 Database로 사용해보자,"이번에는 크롤링한 데이터를 내려주는 API 서버를 AWS Lambda와 AWS S3 스토리지를 이용해서 빠르게 구성해본 내용에 대해서 공유드리려고 합니다.

Nextunicorn 팀이 점차 성장해가면서, 서버 코드도 같이 몸집을 키우게 됐습니다. (...) 그래서 서비스의 핵심 기능이 아닌 이상, 몇 몇 새로운 서비스들은 Microservice로 분리하기로",Infra Structure
https://surfit.io/link/wDjbA,"파이썬+AWS Lambda+AWS API Gateway 텔레그램 봇 개발, 배포까지",와이프가 운영하는 카카오톡 오픈톡방이 있었는데 1500명 정원이 모두 차버렸습니다. 그래서 방법이 없을까 고민하던 중 텔레그램 그룹에서는 20만명 까지 참여가 가능하다는 정보를 알게 되었습니다. 카톡에는 팬더Jr가 있어서 어느정도 공지사항 안내가 가능했는데 텔레그램에서는 더욱 커스터마이징이 가능한 API를 제공한다고 하여 직접 챗봇을 만들어보기로 했습니다.,Infra Structure
https://surfit.io/link/KYg6g,"Metabase, 오픈 소스 BI 솔루션 Amazon ECS에 설치하기","Metabase는 다양한 데이터 소스로부터 데이터 시각화 기능을 제공하는 오픈 소스 BI 솔루션이다. 이번 글에서는 Metabase 설치형 도커 이미지를 기반으로 Amazon ECS에 서비스를 기동하는 방법을 설명하고자 한다. (예제에 나오는 foobar 네이밍은 하나의 예로서 다른 문자열을 사용해도 무방하다.)사전 지식
Amazon ECS와 AWS Far",Infra Structure
https://surfit.io/link/50DkW,효과적인 DynamoDB 디자인 및 활용,"이번엔 디비를 NoSQL로 AWS의 DynamoDB를 사용해서 구성해보려고 한다.

아키텍처 디자인을 어떻게 해야할까 고민하던 차에, A가 리인벤트 동영상을 추천해줬는데 내용이 좋다.

- 한 애플리케이션에 한 개의 테이블
- 파티션 키는 데이터를 골고루 분산하는 용도로 (데이터 분배 결정)    - 고유 값이 많은 속성(카디널리티가 높은 속성)    - ",Infra Structure
https://surfit.io/link/Kb4Lr,AWS RDS Scheduled start/stop,클라우드의 비용을 최적화할 수 있는 가장 확실한 방법은 Right Sizing 일 것입니다. 용도에 맞는 정확한 사양의 인스턴스를 필요한 만큼 사용하는 것이 비용 최적화의 기본이죠. 그리고 그다음으로는 필요할 때만 사용하는 것이 중요해집니다. Pay as you go 비용 모델에 따라 사용하는 만큼만 과금되는 클라우드의 비용은 불필요할 때는 사용하지 않도록,Infra Structure
https://surfit.io/link/3G6d2,도커 이미지 빌드와 Dockerfile 기초,"도커Docker에서 이미지image는 컨테이너container와 함께 가장 중요한 개념입니다. 모든 컨테이너는 이미지를 바탕으로 실행되며, 이 때 이미지는 컨테이너가 실행되는 파일 시스템입니다. 도커에서는 다양한 베이스 이미지와 애플리케이션 이미지를 제공할뿐만 아니라, 사용자는 이러한 이미지를 기반으로 해서 새로운 커스텀 이미지를 만들 수 있습니다. 이 커",Infra Structure
https://surfit.io/link/3qgB2,데이터 과학자들은 쿠버네티스에 관심이 없습니다 - MLOps,"쿠버네티스는 지난 몇 십년간 나온 제품들 중 가장 중요한 소프트웨어이자 영향력있는 오픈소스입니다. 쿠버네티스는 어플리케이션이 어떻게 개발되고 운영환경에 배포가 되어야 하는지에 대해 혁신적인 변화를 이끌어 냈습니다.
쿠버네티스의 폭발적인 성장으로 더 많은 하드웨어가 쿠버네티스에 의해 관리됩니다. 이 흐름은 딥러닝의 인기에 맞물려 같이 성장하고 있습니다. 딥러",Infra Structure
https://surfit.io/link/wWJNy,AWS Aurora  MySQL 정리,"최근에 데이터 인프라팀으로 팀을 옮기기도 했고, 그동안 AWS Aurora를 사용하면서 생각보다 MySQL과 다른 부분이 많이 있어서 정리가 필요하다고 생각이 됐습니다. AWS의 공식문서를 정리하면서 저의 생각이나 경험을 약간씩 추가하였습니다. 그리고 마지막에는 MySQL(or AWS RDS MySQL)과 다른 점을 정리해보면서 다시 한번 AWS Auror",Infra Structure
https://surfit.io/link/KrgB2,ip로 직접 만들어보는 네트워크 네임스페이스와 브리지 네트워크,"UTS 네임스페이스는 네트워크 상에서 고유한 이름을 나타내는 호스트네임을 격리시켜주는 역할을 합니다. 이번 글에서는 네트워크 네임스페이스를 소개합니다. UTS 네임스페이스는 비교적 간단합니다만, 네트워크 네임스페이스는 프로세스 간에 네트워크 환경을 격리할 수 있는 매우 강력한 기능들을 제공합니다.
먼저 첫 번째 예제에서는 네트워크 네임스페이스의 기본적인 사",Infra Structure
https://surfit.io/link/3197X,스팟인스턴스 도입을 통한 비용 최적화,"AWS 환경에서 인프라를 운영하다 보면 많은 비용이 발생하는 서비스들이 있습니다. 바로 CloudFront, RDS, EC2, Elasticache 등등이 해당됩니다. 이중에서도 EC2 비용은 서비스의 성장에 따라 인프라의 규모가 커지면서 기하급수적으로 늘어나곤 합니다. 이런 EC2 비용을 절약하기 위해서는 다양한 방법이 있습니다. 적정한 사양의 인스턴스를",Infra Structure
https://surfit.io/link/3G6jn,Terraform 0.14로 테라폼 코드 업그레이드하기,"얼마 전에 Terraform 코드를 0.13으로 업그레이드 했는데 0.13 릴리스 이후 4달이 채 지나지 않아서 0.14가 나왔다.







Dependency Lock

0.13 이하까지는 terraform init을 하면 항상 설정 버전의 조건에 맞는 최신 버전의 프로바이더를 설치했다. 설정 버전을 특별히 지정하지 않으면 새 버전의 프로바이더 때문에",Infra Structure
https://surfit.io/link/wkYdQ,안심번호(050) 시스템 #1 - 시스템 구축 스토리,"배달의민족 앱에서 050 전화로 주문을 해 본 경험이 누구나 한 번쯤은 있을 텐데요. 배민앱에 있는 가게의 050 번호로 전화를 하게 되면 가게로 전화 연결을 하는 동안 통화연결음(배민컬러링)이 들리게 됩니다. 이를 통해 고객들은 자연스럽게 배민을 통해 주문을 하는 것을 알 수 있게 되고, 반대로 음식점 사장님들도 주문 전화를 받게 되면 배달의민족 콜~ 이",Infra Structure
https://surfit.io/link/w80E1,nginx: 허용하지 않은 도메인에서 접속이 되는 경우,"엥?? 도메인이 다른 전혀 관련 없는 웹페이지가 우리 서비스를 프록시로 걸어 제공하고 있었다.

어처구니가 없는 행동이지만, 그 전에 왜 nginx는 도메인이 다른 접근에 응답하고 있었던 걸까?

nginx 설정의 서버 블럭에는 아래와 같이 server_name 이 명시되어 있었다.

server {
    server_name ohgyun.com;
   ",Infra Structure
https://surfit.io/link/50B49,Amazon Athena 개념 및 사용법 정리,"Amazon Athena는 아마존이 제공하는 서버리스 대화식 데이터 쿼리 서비스 상품이다. Presto 0.172 기반의 ANSI SQL을 지원하여 다양한 데이터 소스에 대해 일관된 질의가 가능하다.
Amazon Athena 특징
질의하고자 하는 데이터 소스(CSV, JSON, Apache Parquet)을 Amazon S3에 업로드한 후, Athena에서",Infra Structure
https://surfit.io/link/wWPNQ,Terraform 0.13으로 테라폼 코드 업그레이드하기,"작년에 Terraform을 0.12로 업그레이드하는 방법을 올렸는데 HCL이 많이 바뀌어서 이전보다 훨씬 쓰기가 좋아졌다. 지난 8월 0.13이 릴리스 되었는데 마찬가지로 0.13으로 올려야지 하고 있다가 미루고 있었더니 0.14 GA가 나와버렸다.

더는 미룰 수가 없어서 버전을 올리면서 이 글을 쓴다. 한 번에 0.14로 올라가기보다는 안전하게 한 버전",Infra Structure
https://surfit.io/link/5zoEN,CloudWatch 이상 동작 탐지 기능 사용하기 #2,"지난 글에 이어 오늘은 CloudWatch 이상 동작 탐지 기능을 통해 발생한 알람을 SNS와 Lambda를 이용해 슬랙으로 받아보는 과정에 대해서 살펴보겠습니다. 오늘 글의 내용은 SNS와 Lambda를 이용해 슬랙으로 메시지를 전송하는 과정이기 때문에 꼭 CloudWatch 이상 동작 탐지가 아니라도 두루 사용할 수 있는 기능입니다.
시스템 구성도


",Infra Structure
https://surfit.io/link/3Aknz,EC2 CPU Usage 이상 동작 이슈 해결하기,"Amazon Web Service
이번 글에서는 EC2에서 발생한 CPU Usage의 이상 동작 이슈의 해결 과정에 대해 이야기해 보겠습니다. 문제를 해결하기 위해서 고민했던 과정들과 AWS와의 협업 과정들을 담고 있습니다. CPU 이슈가 아니라도 다른 이슈로 EC2 문제를 겪고 있는 분들에게 도움이 되었으면 좋겠습니다.

문제의 발단

어느 날부터인가 아",Infra Structure
https://surfit.io/link/wddo8,람다를 이용해 CF 로그를 ES에 저장하기,"오늘 다룰 이야기는 제목 그대로 람다를 이용해 CF 로그를 ES에 저장하는 과정에 대한 이야기입니다. Logstash라는 좋은 툴이 있는데 왜 람다를 이용했는지에 대한 이야기와 어떤 문제를 해결하려고 했는지에 대한 이야기를 해보려고 합니다. 그럼 시작하겠습니다.

Logstash를 통한 CF 로그 파싱의 한계

Logstash를 이용해 CF의 로그를 ES에",Infra Structure
https://surfit.io/link/3Lknz,레디스 클러스터  Mget 명령은 어떻게 동작하는가?,"이 글에서는, 레디스 클러스터 환경에서 Mget 명령으로 다수키 조회가 어떻게 동작하는지 검토한다. 스프링부트 및 Lettuce 라이브러리를 사용하였고, 성능 모니터링을 위해서 그라파나, 프로메테우스 등을 연동하였다. 애플리케이션, 레디스, 프로메테우스 등 모든 인프라 환경은 쿠버네티스에서 실행한다. 

개인PC에서의 테스트 결과이기 때문에, 실제 서버에서",Infra Structure
https://surfit.io/link/KEknW,ElasticSearch status 바로 알기,"오늘은 ElasticSearch (이하 ES)의 status 에 대한 이야기를 해볼까 합니다. ES의 status는 무엇을 의미하는지, 그리고 어떤 값들이 있으며 어떻게 확인할 수 있는지 살펴보겠습니다.

ES status 확인하기

ES는 status라는 것으로 현재 클러스터의 상태를 표시합니다. 아래와 같이 cat API를 사용하면 손쉽게 클러스터의 상",Infra Structure
https://surfit.io/link/504ll,커널 분석을 위한 systemtap 스크립트,"오늘은 systemtap이라는 것에 대해 이야기해 보겠습니다. systemtap이란 무엇인지 어떻게 구성되어 있는지 살펴보고 이를 통해서 무엇을 얻을 수 있을지에 대해 이야기해 보겠습니다.

systemtap이란

systemtap은 커널의 특정 정보들을 수집해서 디버깅하거나 문제를 해결하는 데에 사용되는 시스템 툴입니다. 예를 들어 어떤 프로세스가 UDP",Infra Structure
https://surfit.io/link/3BqZj,AWS ElastiCache를 활용한 데이터 동기화 시스템의 개선,"이번 글에서는 AWS ElastiCache를 활용해 서로 다른 서비스 간의 데이터 동기화 시스템을 개선한 과정을 공유하고자 합니다.

긴 시행착오를 겪은 작업이었고 개인적으로도 이번 개발을 통해 많은 것을 배우게 되었습니다. 부족한 내용이지만 이 글을 읽으시는 분들도 작게나마 도움이 되셨으면 합니다.




현재 브랜디 시스템은 서로 다른 두 서비스의 서버",Infra Structure
https://surfit.io/link/3LppV,DynamoDB 똑똑하게 사용하기(요금 줄이는 꿀팁),"브랜디는 이미 고객 여러분에게 즉각적인 서비스를 제공하기 위해 다양한 방법으로 캐싱을 하고 있습니다. 새로운 정보를 노출하기 위해 캐싱 주기를 매우 짧게 설정하고 있지만, 요청 수가 많아짐에 따라 1~2초의 캐싱도 매우 효과를 볼수 있습니다. 이번에는 DynamoDB을 이용한 캐싱작업 후 요금을 줄이기 위한 꿀팁을 소개하겠습니다.



꿀팁 1. TTL 적",Infra Structure
https://surfit.io/link/5zx0X,Kubernetes에 Microservice 배포하기 3편 - Canary Deployments with Istio,"안녕하세요, DevOps 팀의 Sammie입니다. 저번 글 - Kubernetes Microservice 배포하기 2편에서는 Spinnaker pipeline을 쉽게 생성 할 수 있도록 Hyperconnect 내부에서 개발하여 사용하고 있는 도구에 대해 소개했습니다. 이번 글에서는 이 도구와 Istio[1]를 사용하여 쉽게 canary 배포를 할 수 있도록",Infra Structure
https://surfit.io/link/5eeZm,Kubernetes에 Microservice 배포하기 2편 - Pipeline 복제하기,"안녕하세요, DevOps 팀의 Sammie입니다. 저번 글 - Kubernetes Microservice 배포하기 1편에서는 CI/CD pipeline의 전반적인 내용을 다루었습니다. 이번 글에서는 Hyperconnect에서 사용하는 Helm chart와 Spinnaker pipeline 생성에 대해 좀 더 자세히 공유해보려고 합니다.

아래에서 설명할 p",Infra Structure
https://surfit.io/link/3jVOq,누가 Kubernetes 클러스터에 있는 나의 사랑스러운 Prometheus 컨테이너를 죽였나!,"안녕하세요. 이번 글에서는 CrashLoopBackoff 상태에 있는 Prometheus 컨테이너 이슈의 원인을 조사하고 해결하는 과정에서 겪은 흥미로운 경험을 공유하려고 합니다. 사실 이런 현상이 발생하는 원인과 해결책은 너무 뻔하고 간단해서 굳이 이런 주제를 다루는 데 시간을 투자할 가치가 있나는 질문을 던질 수도 있습니다. 하지만 저와 마찬가지로, 이",Infra Structure
https://surfit.io/link/37ND6,Email 보안 강화 기능 소개(SPF),"TOAST Email은 이메일 보안 강화를 위한 다양한 기능을 제공합니다. 총 두 번에 걸쳐 이메일 보안 강화 기능에 대해 살펴봅니다. 이번 글은 이메일 보안을 강화할 수 있는 방법 중 하나인 SPF(Sender Policy Framework)에 대해 설명합니다. 다음 글은 도메인 보호 기능, DKIM(DomainKeys Identified Mail), D",Infra Structure
https://surfit.io/link/KyqNo,Kubernetes에 Microservice 배포하기 1편 - 클릭 몇 번으로 배포 시스템 만들기,"안녕하세요, DevOps 팀의 Sammie입니다. Azar와 Hakuna 서버는 microservice architecture (MSA) 구조로 개발하고 있습니다. 서버를 여러 개의 서비스로 분리하면, 개별적인 서비스 배포가 가능하므로 기능 추가나 버그 수정 속도가 빨라지게 됩니다. 하지만, 이를 위해서 배포 pipeline을 microservice 개수만",Infra Structure
https://surfit.io/link/wV4Wo,우리도 채팅있으면 좋을 것 같아요.,"이 글에서는 Netty를 이용해 채팅 서버 구축을 위한 기본 셋팅과 구조에 집중해 이야기를 전개합니다.
실제 운영환경에서 서비스되는 시스템을 만드는 과정은 많은 고민과 트러블슈팅이 필요하기 때문에 
자칫 주제와 조금만 벗어나도 이야기가 우왕좌왕해질 수 있기 때문입니다.
따라서 비지니스 로직이 담긴 서비스레벨과 데이터 설계 부분은 제외됐음을 알려드립니다.

",Infra Structure
https://surfit.io/link/w8JW1,AWS Lambda와 SQS를 이용한 대용량 엑셀 처리,"Overview

브랜디의 빠른 성장과 함께 관리자 페이지 내 주문과 상품 등록 건수 또한 기하급수적으로 증가해왔습니다. 브랜디 구성원의 업무에 관리자 내 엑셀 다운로드 기능이 사용되는 만큼 많은 건수의 데이터를 빠른 시간 내 엑셀로 다운로드할 수 있는 기능의 필요성이 대두되었습니다. 이에 상품 혹은 주문 목록 몇 십만 건을 엑셀을 통해 빠르게 다운로드 가",Infra Structure
https://surfit.io/link/wVm81,고정된 IP를 통과해 Elastic Beanstalk 접근하기 그 두번째,"지금까지의 구성2018년 12월에 고정된 IP를 통과해 Elastic Beanstalk 접근하기라는 글을 썼는데, 올 초에 조금 더 단순하고 안전한 방식으로 변경이 됐다.
기존 방식이 이런 구성이었는데,
1Client -&gt; NLB -&gt; Proxy 서버군 -&gt; Elastic BeanstalkISMS 심사를 준비하면서 Proxy 서버군에 취약점",Infra Structure
https://surfit.io/link/5e60Y,Kubernetes 환경을 위한 자바 에이전트 개발기,"안녕하세요, 하이퍼커넥트 Backend Dev1팀의 Fitz 입니다.

이 글에서는 Kubernetes 환경에 종속적인 Distributed tracing 기능을 개발하며 고민했던 내용과 자바 바이트코드 변환을 이용해 재사용성 높은 자바 에이전트를 구현한 경험을 공유합니다.

글의 전반부에서는 배경과 어떤 요구를 위해 어떤 구현을 했는지에 대해 설명하고, ",Infra Structure
https://surfit.io/link/wdMQE,AWS CloudFront + Lambda@Edge 로 HTTP 요청 시 특정 헤더에 접근 제어 추가하기,"외부에 HTTP 요청으로 자원 공유 시 보안에 특히 신경을 써야 합니다. AWS CloudFront + Lambda@Edge 서비스를 이용하면 HTTP 요청 시 사용자 지정 함수로 원하는 목적에 따라 처리 가능합니다.

이번 글에서는 오리진 서버에게 요청 시 헤더에 Authorization Key 값을 추가하여 인증을 통해 특정 사용자만 자원에 접근할 수 ",Infra Structure
https://surfit.io/link/w6rmZ,ELK 셋팅부터 알람까지,"안녕하세요. 저는 상품시스템팀에서 개발업무를 맡고 있는 이중석입니다.
최근 팀 내에서 로그엔트리를 ELK 로 전환하고 필요한 알람을 셋팅하는 작업을 진행했습니다. 이 과정중 알람을 설정하는 부분이 어렵진 않지만 쉽지도 않았습니다.
그 과정에서 알게된 것들이 다른분께 도움이 될까 싶어 글을 남깁니다.


ELK로 로그 쌓아보기 (feat. 스프링 배치)
Lo",Infra Structure
https://surfit.io/link/5lOqW,메인 데이터베이스 IDC 탈출 성공기,"안녕하세요.
우아한형제들 시스템신뢰성개발팀 박주희입니다.
2019년을 마무리하는 시점에 우아한형제들이 어떻게 메인 데이터베이스를 IDC 환경에서 탈출시켰는지, 그 과정을 공유하려고 합니다.


발단
2010년 6월 출범한 배달의민족은 (2018년 12월 기준) 앱 누적 다운로드 4000만 돌파, 월간 순 방문자 수 900만명, 전국 등록 업소 수 30여만개",Infra Structure
https://surfit.io/link/5l6b2,Private Docker Registry를 구축하기 위한 오픈소스 Harbor 도입기,"저를 소개합니다



안녕하세요. LINE+에서 엔지니어로 일하고 있는 이지현입니다. 저는 현재 글로벌에서 일하고 있는 수많은 LINE 엔지니어들이 좀 더 효율적으로 업무를 수행할 수 있도록 여러 가지 공통 엔지니어링 인프라(Common Engineering Infrastructure)를 제공하고, 그와 관련된 이슈를 해결해 나가는 업무를 수행하고 있습니다",Infra Structure
https://surfit.io/link/KErxq,Aurora MySQL를 운영하면서 알면 좋을 것 같은 미세한 팁,"들어가며
안녕하세요. 우아한형제들에서 DBA로 근무하고 있는 유영근입니다.
저희는 AWS환경에서 RDS로 수많은 요청을 처리하고 저장하며 Aurora MySQL을 주력으로 사용하고 있습니다.
한정된 사람구하기 힘든 DBA로 수많은 DBMS를 효율적으로 운영하고 있으며 입사 이후 DB를 운영하면서 겪었던 몇가지 사례를 공유하고자 글을 쓰게 되었습니다.

Au",Infra Structure
https://surfit.io/link/KQaXg,"AWS 클라우드 와치 에러 유형을 JSON으로 통합하고, Metric Filters를 이용한 모니터링 구축","필자는 JSON으로 로그를 남긴다는 생각을 해본적이 없었습니다.

원래 하던대로 로그를 텍스트로 남기고 특정 키워드를 검색해내고 그 주변의 로그를 확인 하는 방법으로 주로 사용했기 때문입니다.

    cat webserver-log-2019-07-18.log | grep ""@@logType=ERROR""


이렇게 많이 사용했습니다.JSON으로 로그를 남기",Infra Structure
https://surfit.io/link/KrOWk,AWS Code Deploy를 통한 배포 자동화,"서버 배포는 단순하고 반복작업이지만 절차가 적지 않아 실수를 할 가능성이 높습니다. 또 한번의 실수는 커다란 시스템 장애로 이루어질 수 있기 때문에 많은 분들에게 배포란 꽤나 부담스럽고 큰 업무로 느껴집니다. 특히 하루에 여러번의 배포를 진행해야 하는 날이면 시간도 시간이지만 스트레스가 크죠.
드라마앤컴퍼니에서 이전까지는 서버 배포를 진행하는 개발자가 몇 ",Infra Structure
https://surfit.io/link/wZ2za,Firebase Remote Config로 배포없이 운영하기,"라이브로 운영하는 서비스는 항상 운영이슈가 존재합니다. 운영이슈는 사용자의 요구를 최대한 실시간으로 대응하여 불편함을 줄이고 만족도를 높이는 것을 의미합니다. 예를 들어 CS, 공지사항 부터 장애 모니터링 및 대응, 피드백 수집 후 개선까지도 모두 운영이슈로 볼 수 있습니다. 이 때 운영팀에서 가장 중요하게 생각하는 것은 실시간 입니다. 운영팀은 공지사항,",Infra Structure
https://surfit.io/link/KRD26,AWS CloudWatch를 이용한 로그 모니터링 시스템 구축,"안녕하세요, 개발3팀입니다!!

현재 우리 R&amp;D본부는 다수의 서비스를 운영하고 있습니다.

그중에 저희 개발3팀도 여러개의 서비스를 운영을 하고 있습니다. 다수의 서비스를 운영 하다보면 수없이 많은 일들이 펼쳐집니다.

우리는 각각의 상황들을 분석하고 적절히 대응 해야할 필요가 있죠.

이러한 일들을 수행하는데에 있어 로그 모니터링 시스템이 큰 도",Infra Structure
https://surfit.io/link/wnnOg,좌충우돌 Terraform 입문기,"안녕하세요, 저는 신사업부문의 오지산이라고 합니다.

저희 신사업부문은 배달의민족과는 조금 다른… 시장의 문제를 해결하기 위해 다양한 신규 서비스들이 개발되는 곳입니다.
그 중에는 아직 출시되지 않은 서비스도 있고, 배달의민족과 비교적 관련성이 적은 서비스들도 있는데요.

저희 조직은 둘 모두에 속하는 서비스를 개발하고 있고,
맡은 도메인의 문제를 해결하기",Infra Structure
https://surfit.io/link/Kvzxo,"OSI계층 , TCP/IP 모델 쉽게 알아보기","이전에 로드밸런싱과 관련한 포스팅에서 어플리케이션 로드 밸런싱과 클래식 로드 밸런서가 OSI 계층에서 다르다고 언급을 한 적이 있는데 OSI를 함께 조금 더 쉽게 풀어주면 좋을것같다는 피드백을받아 포스팅을 작성하게됐습니다. 제가 아는 범위에서 간략이 작성하였지만 최대한 쉽게 작성하였습니다.😥😥



OSI 참조모델은 각종 시스템간의 연결을 위하여 분류하기 ",Infra Structure
https://surfit.io/link/KpXlY,Dangling Image 한번에 제거하기,"By
Kesus Kim


2019년 03월 22일

docker build 를 하다가 중간에 생기는 Docker 이미지들이 있다. 빌드에 성공하면 생기지 않는데 실패할 경우에 하나씩 생기며, 또는 동일한 태그로 빌드에 성공할 경우 기존에 되어 있던 태깅이 해제되며 생긴다. Dangling Image 라고 불리는 이 쓸모없는 녀석들은 Docker 작업을 빈",Infra Structure
https://surfit.io/link/50RQd,네트워크 모니터링이 궁금할땐 ? Packetbeat !,"모니터링은 서비스 로직 개발 만큼 한번씩 고민해보고 경험해 봤을 중요한 영역이라 할 수 있다. 그중 엑세스 로그는 운영하고 있는 웹서비스에 대해 여러가지 측면에서 분석할 수 있는 가장 강력한 아이템 중에 하나라고 생각한다. 이를 통해 사용자들이 어떤 url을 많이 호출하고, 어떤 user-agent를 사용하는지 알게 되면 그에 따라 서비스 전략을 변경할수도",Infra Structure
https://surfit.io/link/wolMR,AWS로 서버 없이 웹 서비스 운영하기,"최근 드라마앤컴퍼니에서는 리멤버 커리어라는 구직자와 리쿠르터를 연결해주는 서비스를 출시하였습니다 
저는 리멤버 커리어 프로젝트를 진행하면서 S3, CloudFront, Route53, CodePipeline, CodeBuild, Lambda@Edge를 사용하여 웹 서비스 배포, 배포 자동화 구축, Server Side Rendering 없이 SEO하기 등 ",Infra Structure
https://surfit.io/link/w8vP4,데이터테크랩의 빨리 세는 법,"데이터테크랩의 나기호 선임님과 함께 진행하고 있는 과제를 소개해 드리는 글 입니다.

오늘은 부서에서 개발 중인 플랫폼 중 많은 데이터의 숫자를 빨리 세기 위해, 혹은 빨리 찾기 위해 만들고 있는 DataMart를 소개해 드리겠습니다. 
빨리 집계하기 위해 가장 많이 도입하는 전통적인 방법은 OLAP환경의 DataCube입니다. 흔히 BI라고 불리죠. 
데",Infra Structure
https://surfit.io/link/3AjYN,시간을 줄여주는 CodeStar 사용 팁,"AWS CodeStar를 사용하면 애플리케이션의 서버, 언어 , 형상관리, 배포, 빌드까지 한꺼번에 관리할 수 있습니다. AWS를 사용하는 개발자라면 꼭 필요한 도구이기도 합니다. 이번 글에서는 CodeStar를 초기 설정할 때의 도움이 될 내용들을 소개하겠습니다.

-서비스: AWS CodeStar
 -템플릿: Python Webservice, AWS L",Infra Structure
https://surfit.io/link/wkQ1Q,CloudWatch에 대하여,"Overview
Amazon Web Services(AWS)는 많은 고객들이 이용하고 있습니다. AWS를 이용하여 프로젝트를 운영하고 있다면 각종 서비스의 리소스를 모니터링 하는 게 귀찮게 느껴질 수 있습니다. 이번 글에서는 AWS 리소스를 효과적으로 모니터링할 수 있는 Cloudwatch 서비스를 소개하겠습니다. 

Cloudwatch는 통합 뷰를 확보하",Infra Structure
https://surfit.io/link/3qVrY,우아한 feign 적용기,"안녕하세요. 저는 비즈인프라개발팀에서 개발하고 있는 고정섭입니다.
이 글에서는 배달의민족 광고시스템 백엔드에서 feign 을 적용하면서 겪었던 것들에 대해서 공유 하고자 합니다.


소개
Feign 은  Netflix 에서 개발된 Http client binder 입니다.
  Feign 을 사용하면 웹 서비스 클라이언트를 보다 쉽게 작성할 수 있습니다.
 ",Infra Structure
https://surfit.io/link/5eEOq,Scheduling SQS messages,"브랜디는 상품 주문 또는 취소, 배송 상태 등에 따라 사용자에게 카카오톡 메시지, SMS 등 고객에게 알림 서비스를 제공하고 있습니다. 하지만, 국내 정보통신망법에 따라 야간 시간대(오후 9시 ~ 오전 8시 사이)에는 메시지를 보내지 않아야 하며, 메시지를 보내기 위해서는 별도의 동의가 필요합니다. [1]

그렇다면 당장 해야 할 미션에 대해 짐작이 가시나",Infra Structure
https://surfit.io/link/31YRB,왜 다시 SSR인가 01,"프론트엔드 개발자가 아니더라도 웹 개발에 몸을 담고 있다면 한번쯤은 SPA 애플리케이션에 대해서 한번쯤 들어봤을 것이다. 요즘은 일부 회사들의 공고에도 보란듯이 SPA 애플리케이션 경험자라는 키워드가 나와있을 정도로 프론트엔드 개발자에게는 알아야하는 기본적인 소양이 되었다. 이참에 대체 SPA 애플리케이션이 무엇인지, 왜 SPA 애플리케이션이 나오게 되었는",Infra Structure
